!function(){var t,e,n={5826:function(t,e,n){var r,i,o;o=this,r=[n(274)],void 0===(i=function(t){return o.returnExportsGlobal=function(t){return function(t){"use strict";var e={axisTitle:"",axisClass:"ct-axis-title",offset:{x:0,y:0},textAnchor:"middle",flipTitle:!1},n={axisX:e,axisY:e},r=function(t){return t instanceof Function?t():t},i=function(t){return t instanceof Function?t():t};t.plugins=t.plugins||{},t.plugins.ctAxisTitle=function(e){return e=t.extend({},n,e),function(n){n.on("created",(function(n){if(!e.axisX.axisTitle&&!e.axisY.axisTitle)throw new Error("ctAxisTitle plugin - You must provide at least one axis title");if(!n.axisX&&!n.axisY)throw new Error("ctAxisTitle plugin can only be used on charts that have at least one axis");var o,a,s,u=t.normalizePadding(n.options.chartPadding);if(e.axisX.axisTitle&&n.axisX&&(o=n.axisX.axisLength/2+n.options.axisY.offset+u.left,a=u.top,"end"===n.options.axisY.position&&(o-=n.options.axisY.offset),"end"===n.options.axisX.position&&(a+=n.axisY.axisLength),(s=new t.Svg("text")).addClass(i(e.axisX.axisClass)),s.text(r(e.axisX.axisTitle)),s.attr({x:o+e.axisX.offset.x,y:a+e.axisX.offset.y,"text-anchor":e.axisX.textAnchor}),n.svg.append(s,!0)),e.axisY.axisTitle&&n.axisY){o=0,a=n.axisY.axisLength/2+u.top,"start"===n.options.axisX.position&&(a+=n.options.axisX.offset),"end"===n.options.axisY.position&&(o=n.axisX.axisLength);var l="rotate("+(e.axisY.flipTitle?-90:90)+", "+o+", "+a+")";(s=new t.Svg("text")).addClass(i(e.axisY.axisClass)),s.text(r(e.axisY.axisTitle)),s.attr({x:o+e.axisY.offset.x,y:a+e.axisY.offset.y,transform:l,"text-anchor":e.axisY.textAnchor}),n.svg.append(s,!0)}}))}}}(t),t.plugins.ctAxisTitle}(t)}.apply(e,r))||(t.exports=i)},274:function(t,e,n){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=this,void 0===(r=function(){return i.Chartist=function(){var t={version:"0.11.4"};return function(t,e){"use strict";var n=t.window,r=t.document;e.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},e.noop=function(t){return t},e.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},e.extend=function(t){var n,r,i;for(t=t||{},n=1;n<arguments.length;n++)for(var a in r=arguments[n])"object"!==o(i=r[a])||null===i||i instanceof Array?t[a]=i:t[a]=e.extend(t[a],i);return t},e.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},e.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},e.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},e.querySelector=function(t){return t instanceof Node?t:r.querySelector(t)},e.times=function(t){return Array.apply(null,new Array(t))},e.sum=function(t,e){return t+(e||0)},e.mapMultiply=function(t){return function(e){return e*t}},e.mapAdd=function(t){return function(e){return e+t}},e.serialMap=function(t,n){var r=[],i=Math.max.apply(null,t.map((function(t){return t.length})));return e.times(i).forEach((function(e,i){var o=t.map((function(t){return t[i]}));r[i]=n.apply(null,o)})),r},e.roundWithPrecision=function(t,n){var r=Math.pow(10,n||e.precision);return Math.round(t*r)/r},e.precision=8,e.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},e.serialize=function(t){return null==t?t:("number"==typeof t?t=""+t:"object"===o(t)&&(t=JSON.stringify({data:t})),Object.keys(e.escapingMap).reduce((function(t,n){return e.replaceAll(t,n,e.escapingMap[n])}),t))},e.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(e.escapingMap).reduce((function(t,n){return e.replaceAll(t,e.escapingMap[n],n)}),t);try{t=void 0!==(t=JSON.parse(t)).data?t.data:t}catch(t){}return t},e.createSvg=function(t,n,r,i){var o;return n=n||"100%",r=r||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter((function(t){return t.getAttributeNS(e.namespaces.xmlns,"ct")})).forEach((function(e){t.removeChild(e)})),(o=new e.Svg("svg").attr({width:n,height:r}).addClass(i))._node.style.width=n,o._node.style.height=r,t.appendChild(o._node),o},e.normalizeData=function(t,n,r){var i,o={raw:t,normalized:{}};return o.normalized.series=e.getDataArray({series:t.series||[]},n,r),i=o.normalized.series.every((function(t){return t instanceof Array}))?Math.max.apply(null,o.normalized.series.map((function(t){return t.length}))):o.normalized.series.length,o.normalized.labels=(t.labels||[]).slice(),Array.prototype.push.apply(o.normalized.labels,e.times(Math.max(0,i-o.normalized.labels.length)).map((function(){return""}))),n&&e.reverseData(o.normalized),o},e.safeHasProperty=function(t,e){return null!==t&&"object"===o(t)&&t.hasOwnProperty(e)},e.isDataHoleValue=function(t){return null==t||"number"==typeof t&&isNaN(t)},e.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"===o(t.series[e])&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},e.getDataArray=function(t,n,r){function i(t){if(e.safeHasProperty(t,"value"))return i(t.value);if(e.safeHasProperty(t,"data"))return i(t.data);if(t instanceof Array)return t.map(i);if(!e.isDataHoleValue(t)){if(r){var n={};return"string"==typeof r?n[r]=e.getNumberOrUndefined(t):n.y=e.getNumberOrUndefined(t),n.x=t.hasOwnProperty("x")?e.getNumberOrUndefined(t.x):n.x,n.y=t.hasOwnProperty("y")?e.getNumberOrUndefined(t.y):n.y,n}return e.getNumberOrUndefined(t)}}return t.series.map(i)},e.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},e.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?n.meta:void 0},e.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},e.projectLength=function(t,e,n){return e/n.range*t},e.getAvailableHeight=function(t,n){return Math.max((e.quantity(n.height).value||t.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},e.getHighLow=function(t,n,r){var i={high:void 0===(n=e.extend({},n,r?n["axis"+r.toUpperCase()]:{})).high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},o=void 0===n.high,a=void 0===n.low;function s(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)s(t[e]);else{var n=r?+t[r]:+t;o&&n>i.high&&(i.high=n),a&&n<i.low&&(i.low=n)}}return(o||a)&&s(t),(n.referenceValue||0===n.referenceValue)&&(i.high=Math.max(n.referenceValue,i.high),i.low=Math.min(n.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i},e.isNumeric=function(t){return null!==t&&isFinite(t)},e.isFalseyButZero=function(t){return!t&&0!==t},e.getNumberOrUndefined=function(t){return e.isNumeric(t)?+t:void 0},e.isMultiValue=function(t){return"object"===o(t)&&("x"in t||"y"in t)},e.getMultiValue=function(t,n){return e.isMultiValue(t)?e.getNumberOrUndefined(t[n||"y"]):e.getNumberOrUndefined(t)},e.rho=function(t){if(1===t)return t;function e(t,n){return t%n==0?n:e(n,t%n)}function n(t){return t*t+1}var r,i=2,o=2;if(t%2==0)return 2;do{i=n(i)%t,o=n(n(o))%t,r=e(Math.abs(i-o),t)}while(1===r);return r},e.getBounds=function(t,n,r,i){var o,a,s,u=0,l={high:n.high,low:n.low};l.valueRange=l.high-l.low,l.oom=e.orderOfMagnitude(l.valueRange),l.step=Math.pow(10,l.oom),l.min=Math.floor(l.low/l.step)*l.step,l.max=Math.ceil(l.high/l.step)*l.step,l.range=l.max-l.min,l.numberOfSteps=Math.round(l.range/l.step);var c=e.projectLength(t,l.step,l)<r,f=i?e.rho(l.range):0;if(i&&e.projectLength(t,1,l)>=r)l.step=1;else if(i&&f<l.step&&e.projectLength(t,f,l)>=r)l.step=f;else for(;;){if(c&&e.projectLength(t,l.step,l)<=r)l.step*=2;else{if(c||!(e.projectLength(t,l.step/2,l)>=r))break;if(l.step/=2,i&&l.step%1!=0){l.step*=2;break}}if(u++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var h=2221e-19;function d(t,e){return t===(t+=e)&&(t*=1+(e>0?h:-h)),t}for(l.step=Math.max(l.step,h),a=l.min,s=l.max;a+l.step<=l.low;)a=d(a,l.step);for(;s-l.step>=l.high;)s=d(s,-l.step);l.min=a,l.max=s,l.range=l.max-l.min;var p=[];for(o=l.min;o<=l.max;o=d(o,l.step)){var v=e.roundWithPrecision(o);v!==p[p.length-1]&&p.push(v)}return l.values=p,l},e.polarToCartesian=function(t,e,n,r){var i=(r-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},e.createChartRect=function(t,n,r){var i=!(!n.axisX&&!n.axisY),o=i?n.axisY.offset:0,a=i?n.axisX.offset:0,s=t.width()||e.quantity(n.width).value||0,u=t.height()||e.quantity(n.height).value||0,l=e.normalizePadding(n.chartPadding,r);s=Math.max(s,o+l.left+l.right),u=Math.max(u,a+l.top+l.bottom);var c={padding:l,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return i?("start"===n.axisX.position?(c.y2=l.top+a,c.y1=Math.max(u-l.bottom,c.y2+1)):(c.y2=l.top,c.y1=Math.max(u-l.bottom-a,c.y2+1)),"start"===n.axisY.position?(c.x1=l.left+o,c.x2=Math.max(s-l.right,c.x1+1)):(c.x1=l.left,c.x2=Math.max(s-l.right-o,c.x1+1))):(c.x1=l.left,c.x2=Math.max(s-l.right,c.x1+1),c.y2=l.top,c.y1=Math.max(u-l.bottom,c.y2+1)),c},e.createGrid=function(t,n,r,i,o,a,s,u){var l={};l[r.units.pos+"1"]=t,l[r.units.pos+"2"]=t,l[r.counterUnits.pos+"1"]=i,l[r.counterUnits.pos+"2"]=i+o;var c=a.elem("line",l,s.join(" "));u.emit("draw",e.extend({type:"grid",axis:r,index:n,group:a,element:c},l))},e.createGridBackground=function(t,e,n,r){var i=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);r.emit("draw",{type:"gridBackground",group:t,element:i})},e.createLabel=function(t,n,i,o,a,s,u,l,c,f,h){var d,p={};if(p[a.units.pos]=t+u[a.units.pos],p[a.counterUnits.pos]=u[a.counterUnits.pos],p[a.units.len]=n,p[a.counterUnits.len]=Math.max(0,s-10),f){var v=r.createElement("span");v.className=c.join(" "),v.setAttribute("xmlns",e.namespaces.xhtml),v.innerText=o[i],v.style[a.units.len]=Math.round(p[a.units.len])+"px",v.style[a.counterUnits.len]=Math.round(p[a.counterUnits.len])+"px",d=l.foreignObject(v,e.extend({style:"overflow: visible;"},p))}else d=l.elem("text",p,c.join(" ")).text(o[i]);h.emit("draw",e.extend({type:"label",axis:a,index:i,group:l,element:d,text:o[i]},p))},e.getSeriesOption=function(t,e,n){if(t.name&&e.series&&e.series[t.name]){var r=e.series[t.name];return r.hasOwnProperty(n)?r[n]:e[n]}return e[n]},e.optionsProvider=function(t,r,i){var o,a,s=e.extend({},t),u=[];function l(t){var u=o;if(o=e.extend({},s),r)for(a=0;a<r.length;a++)n.matchMedia(r[a][0]).matches&&(o=e.extend(o,r[a][1]));i&&t&&i.emit("optionsChanged",{previousOptions:u,currentOptions:o})}function c(){u.forEach((function(t){t.removeListener(l)}))}if(!n.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(r)for(a=0;a<r.length;a++){var f=n.matchMedia(r[a][0]);f.addListener(l),u.push(f)}return l(),{removeMediaQueryListeners:c,getCurrentOptions:function(){return e.extend({},o)}}},e.splitIntoSegments=function(t,n,r){var i={increasingX:!1,fillHoles:!1};r=e.extend({},i,r);for(var o=[],a=!0,s=0;s<t.length;s+=2)void 0===e.getMultiValue(n[s/2].value)?r.fillHoles||(a=!0):(r.increasingX&&s>=2&&t[s]<=t[s-2]&&(a=!0),a&&(o.push({pathCoordinates:[],valueData:[]}),a=!1),o[o.length-1].pathCoordinates.push(t[s],t[s+1]),o[o.length-1].valueData.push(n[s/2]));return o}}(this||n.g,t),function(t,e){"use strict";e.Interpolation={},e.Interpolation.none=function(t){var n={fillHoles:!1};return t=e.extend({},n,t),function(n,r){for(var i=new e.Svg.Path,o=!0,a=0;a<n.length;a+=2){var s=n[a],u=n[a+1],l=r[a/2];void 0!==e.getMultiValue(l.value)?(o?i.move(s,u,!1,l):i.line(s,u,!1,l),o=!1):t.fillHoles||(o=!0)}return i}},e.Interpolation.simple=function(t){var n={divisor:2,fillHoles:!1};t=e.extend({},n,t);var r=1/Math.max(1,t.divisor);return function(n,i){for(var o,a,s,u=new e.Svg.Path,l=0;l<n.length;l+=2){var c=n[l],f=n[l+1],h=(c-o)*r,d=i[l/2];void 0!==d.value?(void 0===s?u.move(c,f,!1,d):u.curve(o+h,a,c-h,f,c,f,!1,d),o=c,a=f,s=d):t.fillHoles||(o=c=s=void 0)}return u}},e.Interpolation.cardinal=function(t){var n={tension:1,fillHoles:!1};t=e.extend({},n,t);var r=Math.min(1,Math.max(0,t.tension)),i=1-r;return function n(o,a){var s=e.splitIntoSegments(o,a,{fillHoles:t.fillHoles});if(s.length){if(s.length>1){var u=[];return s.forEach((function(t){u.push(n(t.pathCoordinates,t.valueData))})),e.Svg.Path.join(u)}if(o=s[0].pathCoordinates,a=s[0].valueData,o.length<=4)return e.Interpolation.none()(o,a);for(var l,c=(new e.Svg.Path).move(o[0],o[1],!1,a[0]),f=0,h=o.length;h-2*!l>f;f+=2){var d=[{x:+o[f-2],y:+o[f-1]},{x:+o[f],y:+o[f+1]},{x:+o[f+2],y:+o[f+3]},{x:+o[f+4],y:+o[f+5]}];l?f?h-4===f?d[3]={x:+o[0],y:+o[1]}:h-2===f&&(d[2]={x:+o[0],y:+o[1]},d[3]={x:+o[2],y:+o[3]}):d[0]={x:+o[h-2],y:+o[h-1]}:h-4===f?d[3]=d[2]:f||(d[0]={x:+o[f],y:+o[f+1]}),c.curve(r*(-d[0].x+6*d[1].x+d[2].x)/6+i*d[2].x,r*(-d[0].y+6*d[1].y+d[2].y)/6+i*d[2].y,r*(d[1].x+6*d[2].x-d[3].x)/6+i*d[2].x,r*(d[1].y+6*d[2].y-d[3].y)/6+i*d[2].y,d[2].x,d[2].y,!1,a[(f+2)/2])}return c}return e.Interpolation.none()([])}},e.Interpolation.monotoneCubic=function(t){var n={fillHoles:!1};return t=e.extend({},n,t),function n(r,i){var o=e.splitIntoSegments(r,i,{fillHoles:t.fillHoles,increasingX:!0});if(o.length){if(o.length>1){var a=[];return o.forEach((function(t){a.push(n(t.pathCoordinates,t.valueData))})),e.Svg.Path.join(a)}if(r=o[0].pathCoordinates,i=o[0].valueData,r.length<=4)return e.Interpolation.none()(r,i);var s,u,l=[],c=[],f=r.length/2,h=[],d=[],p=[],v=[];for(s=0;s<f;s++)l[s]=r[2*s],c[s]=r[2*s+1];for(s=0;s<f-1;s++)p[s]=c[s+1]-c[s],v[s]=l[s+1]-l[s],d[s]=p[s]/v[s];for(h[0]=d[0],h[f-1]=d[f-2],s=1;s<f-1;s++)0===d[s]||0===d[s-1]||d[s-1]>0!=d[s]>0?h[s]=0:(h[s]=3*(v[s-1]+v[s])/((2*v[s]+v[s-1])/d[s-1]+(v[s]+2*v[s-1])/d[s]),isFinite(h[s])||(h[s]=0));for(u=(new e.Svg.Path).move(l[0],c[0],!1,i[0]),s=0;s<f-1;s++)u.curve(l[s]+v[s]/3,c[s]+h[s]*v[s]/3,l[s+1]-v[s]/3,c[s+1]-h[s+1]*v[s]/3,l[s+1],c[s+1],!1,i[s+1]);return u}return e.Interpolation.none()([])}},e.Interpolation.step=function(t){var n={postpone:!0,fillHoles:!1};return t=e.extend({},n,t),function(n,r){for(var i,o,a,s=new e.Svg.Path,u=0;u<n.length;u+=2){var l=n[u],c=n[u+1],f=r[u/2];void 0!==f.value?(void 0===a?s.move(l,c,!1,f):(t.postpone?s.line(l,o,!1,a):s.line(i,c,!1,f),s.line(l,c,!1,f)),i=l,o=c,a=f):t.fillHoles||(i=o=a=void 0)}return s}}}(this||n.g,t),function(t,e){"use strict";e.EventEmitter=function(){var t=[];function e(e,n){t[e]=t[e]||[],t[e].push(n)}function n(e,n){t[e]&&(n?(t[e].splice(t[e].indexOf(n),1),0===t[e].length&&delete t[e]):delete t[e])}function r(e,n){t[e]&&t[e].forEach((function(t){t(n)})),t["*"]&&t["*"].forEach((function(t){t(e,n)}))}return{addEventHandler:e,removeEventHandler:n,emit:r}}}(this||n.g,t),function(t,e){"use strict";function n(t){var e=[];if(t.length)for(var n=0;n<t.length;n++)e.push(t[n]);return e}function r(t,n){var r=n||this.prototype||e.Class,i=Object.create(r);e.Class.cloneDefinitions(i,t);var o=function(){var t,n=i.constructor||function(){};return t=this===e?Object.create(i):this,n.apply(t,Array.prototype.slice.call(arguments,0)),t};return o.prototype=i,o.super=r,o.extend=this.extend,o}function i(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach((function(t){Object.getOwnPropertyNames(t).forEach((function(n){delete e[n],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))})),e}e.Class={extend:r,cloneDefinitions:i}}(this||n.g,t),function(t,e){"use strict";var n=t.window;function r(t,n,r){return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=e.extend({},r?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=e.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function i(){return this.initializeTimeoutId?n.clearTimeout(this.initializeTimeoutId):(n.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function o(t,e){return this.eventEmitter.addEventHandler(t,e),this}function a(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function s(){n.addEventListener("resize",this.resizeListener),this.optionsProvider=e.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function u(t,n,r,i,o){this.container=e.querySelector(t),this.data=n||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=r,this.options=i,this.responsiveOptions=o,this.eventEmitter=e.EventEmitter(),this.supportsForeignObject=e.Svg.isSupported("Extensibility"),this.supportsAnimations=e.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}e.Base=e.Class.extend({constructor:u,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:r,detach:i,on:o,off:a,version:e.version,supportsForeignObject:!1})}(this||n.g,t),function(t,e){"use strict";var n=t.document;function r(t,r,i,o,a){t instanceof Element?this._node=t:(this._node=n.createElementNS(e.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":e.namespaces.ct})),r&&this.attr(r),i&&this.addClass(i),o&&(a&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))}function i(t,n){return"string"==typeof t?n?this._node.getAttributeNS(n,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(n){if(void 0!==t[n])if(-1!==n.indexOf(":")){var r=n.split(":");this._node.setAttributeNS(e.namespaces[r[0]],n,t[n])}else this._node.setAttribute(n,t[n])}.bind(this)),this)}function o(t,n,r,i){return new e.Svg(t,n,r,this,i)}function a(){return this._node.parentNode instanceof SVGElement?new e.Svg(this._node.parentNode):null}function s(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new e.Svg(t)}function u(t){var n=this._node.querySelector(t);return n?new e.Svg(n):null}function l(t){var n=this._node.querySelectorAll(t);return n.length?new e.Svg.List(n):null}function c(){return this._node}function f(t,r,i,o){if("string"==typeof t){var a=n.createElement("div");a.innerHTML=t,t=a.firstChild}t.setAttribute("xmlns",e.namespaces.xmlns);var s=this.elem("foreignObject",r,i,o);return s._node.appendChild(t),s}function h(t){return this._node.appendChild(n.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function v(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function m(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function y(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function g(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter((function(t,e,n){return n.indexOf(t)===e})).join(" ")),this}function b(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(t){return-1===e.indexOf(t)})).join(" ")),this}function x(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function k(){return this._node.getBoundingClientRect().width}function S(t,n,r){return void 0===n&&(n=!0),Object.keys(t).forEach(function(i){function o(t,n){var o,a,s,u={};t.easing&&(s=t.easing instanceof Array?t.easing:e.Svg.Easing[t.easing],delete t.easing),t.begin=e.ensureUnit(t.begin,"ms"),t.dur=e.ensureUnit(t.dur,"ms"),s&&(t.calcMode="spline",t.keySplines=s.join(" "),t.keyTimes="0;1"),n&&(t.fill="freeze",u[i]=t.from,this.attr(u),a=e.quantity(t.begin||0).value,t.begin="indefinite"),o=this.elem("animate",e.extend({attributeName:i},t)),n&&setTimeout(function(){try{o._node.beginElement()}catch(e){u[i]=t.to,this.attr(u),o.remove()}}.bind(this),a),r&&o._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:o._node,params:t})}.bind(this)),o._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:o._node,params:t}),n&&(u[i]=t.to,this.attr(u),o.remove())}.bind(this))}t[i]instanceof Array?t[i].forEach(function(t){o.bind(this)(t,!1)}.bind(this)):o.bind(this)(t[i],n)}.bind(this)),this}e.Svg=e.Class.extend({constructor:r,attr:i,elem:o,parent:a,root:s,querySelector:u,querySelectorAll:l,getNode:c,foreignObject:f,text:h,empty:d,remove:p,replace:v,append:m,classes:y,addClass:g,removeClass:b,removeAllClasses:x,height:w,width:k,animate:S}),e.Svg.isSupported=function(t){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var E={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function A(t){var n=this;this.svgElements=[];for(var r=0;r<t.length;r++)this.svgElements.push(new e.Svg(t[r]));Object.keys(e.Svg.prototype).filter((function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)})).forEach((function(t){n[t]=function(){var r=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach((function(n){e.Svg.prototype[t].apply(n,r)})),n}}))}e.Svg.Easing=E,e.Svg.List=e.Class.extend({constructor:A})}(this||n.g,t),function(t,e){"use strict";var n={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},r={accuracy:3};function i(t,n,r,i,o,a){var s=e.extend({command:o?t.toLowerCase():t.toUpperCase()},n,a?{data:a}:{});r.splice(i,0,s)}function o(t,e){t.forEach((function(r,i){n[r.command.toLowerCase()].forEach((function(n,o){e(r,n,i,o,t)}))}))}function a(t,n){this.pathElements=[],this.pos=0,this.close=t,this.options=e.extend({},r,n)}function s(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function u(t){return this.pathElements.splice(this.pos,t),this}function l(t,e,n,r){return i("M",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function c(t,e,n,r){return i("L",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function f(t,e,n,r,o,a,s,u){return i("C",{x1:+t,y1:+e,x2:+n,y2:+r,x:+o,y:+a},this.pathElements,this.pos++,s,u),this}function h(t,e,n,r,o,a,s,u,l){return i("A",{rx:+t,ry:+e,xAr:+n,lAf:+r,sf:+o,x:+a,y:+s},this.pathElements,this.pos++,u,l),this}function d(t){var r=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t}),[]);"Z"===r[r.length-1][0].toUpperCase()&&r.pop();var i=r.map((function(t){var r=t.shift(),i=n[r.toLowerCase()];return e.extend({command:r},i.reduce((function(e,n,r){return e[n]=+t[r],e}),{}))})),o=[this.pos,0];return Array.prototype.push.apply(o,i),Array.prototype.splice.apply(this.pathElements,o),this.pos+=i.length,this}function p(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,r){var i=n[r.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(r[e]*t)/t:r[e]}.bind(this));return e+r.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function v(t,e){return o(this.pathElements,(function(n,r){n[r]*="x"===r[0]?t:e})),this}function m(t,e){return o(this.pathElements,(function(n,r){n[r]+="x"===r[0]?t:e})),this}function y(t){return o(this.pathElements,(function(e,n,r,i,o){var a=t(e,n,r,i,o);(a||0===a)&&(e[n]=a)})),this}function g(t){var n=new e.Svg.Path(t||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map((function(t){return e.extend({},t)})),n.options=e.extend({},this.options),n}function b(t){var n=[new e.Svg.Path];return this.pathElements.forEach((function(r){r.command===t.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new e.Svg.Path),n[n.length-1].pathElements.push(r)})),n}function x(t,n,r){for(var i=new e.Svg.Path(n,r),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.pathElements.length;s++)i.pathElements.push(a.pathElements[s]);return i}e.Svg.Path=e.Class.extend({constructor:a,position:s,remove:u,move:l,line:c,curve:f,arc:h,scale:v,translate:m,transform:y,parse:d,stringify:p,clone:g,splitByCommand:b}),e.Svg.Path.elementDescriptions=n,e.Svg.Path.join=x}(this||n.g,t),function(t,e){"use strict";t.window,t.document;var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function r(t,e,r,i){this.units=t,this.counterUnits=t===n.x?n.y:n.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=r,this.options=i}function i(t,n,r,i,o){var a=i["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),u=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(l,c){var f,h={x:0,y:0};f=s[c+1]?s[c+1]-l:Math.max(this.axisLength-l,30),e.isFalseyButZero(u[c])&&""!==u[c]||("x"===this.units.pos?(l=this.chartRect.x1+l,h.x=i.axisX.labelOffset.x,"start"===i.axisX.position?h.y=this.chartRect.padding.top+i.axisX.labelOffset.y+(r?5:20):h.y=this.chartRect.y1+i.axisX.labelOffset.y+(r?5:20)):(l=this.chartRect.y1-l,h.y=i.axisY.labelOffset.y-(r?f:0),"start"===i.axisY.position?h.x=r?this.chartRect.padding.left+i.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+i.axisY.labelOffset.x+10),a.showGrid&&e.createGrid(l,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[i.classNames.grid,i.classNames[this.units.dir]],o),a.showLabel&&e.createLabel(l,f,c,u,this,a.offset,h,n,[i.classNames.label,i.classNames[this.units.dir],"start"===a.position?i.classNames[a.position]:i.classNames.end],r,o))}.bind(this))}e.Axis=e.Class.extend({constructor:r,createGridAndLabels:i,projectValue:function(t,e,n){throw new Error("Base axis can't be instantiated!")}}),e.Axis.units=n}(this||n.g,t),function(t,e){"use strict";function n(t,n,r,i){var o=i.highLow||e.getHighLow(n,i,t.pos);this.bounds=e.getBounds(r[t.rectEnd]-r[t.rectStart],o,i.scaleMinSpace||20,i.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},e.AutoScaleAxis.super.constructor.call(this,t,r,this.bounds.values,i)}function r(t){return this.axisLength*(+e.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}t.window,t.document,e.AutoScaleAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n.g,t),function(t,e){"use strict";function n(t,n,r,i){var o=i.highLow||e.getHighLow(n,i,t.pos);this.divisor=i.divisor||1,this.ticks=i.ticks||e.times(this.divisor).map(function(t,e){return o.low+(o.high-o.low)/this.divisor*e}.bind(this)),this.ticks.sort((function(t,e){return t-e})),this.range={min:o.low,max:o.high},e.FixedScaleAxis.super.constructor.call(this,t,r,this.ticks,i),this.stepLength=this.axisLength/this.divisor}function r(t){return this.axisLength*(+e.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}t.window,t.document,e.FixedScaleAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n.g,t),function(t,e){"use strict";function n(t,n,r,i){e.StepAxis.super.constructor.call(this,t,r,i.ticks,i);var o=Math.max(1,i.ticks.length-(i.stretch?1:0));this.stepLength=this.axisLength/o}function r(t,e){return this.stepLength*e}t.window,t.document,e.StepAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n.g,t),function(t,e){"use strict";t.window,t.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(t){var r=e.normalizeData(this.data,t.reverseData,!0);this.svg=e.createSvg(this.container,t.width,t.height,t.classNames.chart);var i,o,a=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),u=this.svg.elem("g").addClass(t.classNames.labelGroup),l=e.createChartRect(this.svg,t,n.padding);i=void 0===t.axisX.type?new e.StepAxis(e.Axis.units.x,r.normalized.series,l,e.extend({},t.axisX,{ticks:r.normalized.labels,stretch:t.fullWidth})):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,l,t.axisX),o=void 0===t.axisY.type?new e.AutoScaleAxis(e.Axis.units.y,r.normalized.series,l,e.extend({},t.axisY,{high:e.isNumeric(t.high)?t.high:t.axisY.high,low:e.isNumeric(t.low)?t.low:t.axisY.low})):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,l,t.axisY),i.createGridAndLabels(a,u,this.supportsForeignObject,t,this.eventEmitter),o.createGridAndLabels(a,u,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&e.createGridBackground(a,l,t.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,a){var u=s.elem("g");u.attr({"ct:series-name":n.name,"ct:meta":e.serialize(n.meta)}),u.addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(a)].join(" "));var c=[],f=[];r.normalized.series[a].forEach(function(t,s){var u={x:l.x1+i.projectValue(t,s,r.normalized.series[a]),y:l.y1-o.projectValue(t,s,r.normalized.series[a])};c.push(u.x,u.y),f.push({value:t,valueIndex:s,meta:e.getMetaData(n,s)})}.bind(this));var h={lineSmooth:e.getSeriesOption(n,t,"lineSmooth"),showPoint:e.getSeriesOption(n,t,"showPoint"),showLine:e.getSeriesOption(n,t,"showLine"),showArea:e.getSeriesOption(n,t,"showArea"),areaBase:e.getSeriesOption(n,t,"areaBase")},d=("function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?e.Interpolation.monotoneCubic():e.Interpolation.none())(c,f);if(h.showPoint&&d.pathElements.forEach(function(r){var s=u.elem("line",{x1:r.x,y1:r.y,x2:r.x+.01,y2:r.y},t.classNames.point).attr({"ct:value":[r.data.value.x,r.data.value.y].filter(e.isNumeric).join(","),"ct:meta":e.serialize(r.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:r.data.value,index:r.data.valueIndex,meta:r.data.meta,series:n,seriesIndex:a,axisX:i,axisY:o,group:u,element:s,x:r.x,y:r.y})}.bind(this)),h.showLine){var p=u.elem("path",{d:d.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:r.normalized.series[a],path:d.clone(),chartRect:l,index:a,series:n,seriesIndex:a,seriesMeta:n.meta,axisX:i,axisY:o,group:u,element:p})}if(h.showArea&&o.range){var v=Math.max(Math.min(h.areaBase,o.range.max),o.range.min),m=l.y1-o.projectValue(v);d.splitByCommand("M").filter((function(t){return t.pathElements.length>1})).map((function(t){var e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,m).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,m)})).forEach(function(e){var s=u.elem("path",{d:e.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:r.normalized.series[a],path:e.clone(),series:n,seriesIndex:a,axisX:i,axisY:o,chartRect:l,index:a,group:u,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:l,axisX:i,axisY:o,svg:this.svg,options:t})}function i(t,r,i,o){e.Line.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Line=e.Base.extend({constructor:i,createChart:r})}(this||n.g,t),function(t,e){"use strict";t.window,t.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(t){var r,i;t.distributeSeries?(r=e.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y")).normalized.series=r.normalized.series.map((function(t){return[t]})):r=e.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y"),this.svg=e.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==r.normalized.series.length){var u=e.serialMap(r.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(t){return t})).reduce((function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}}),{x:0,y:0})}));i=e.getHighLow([u],t,t.horizontalBars?"x":"y")}else i=e.getHighLow(r.normalized.series,t,t.horizontalBars?"x":"y");i.high=+t.high||(0===t.high?0:i.high),i.low=+t.low||(0===t.low?0:i.low);var l,c,f,h,d,p=e.createChartRect(this.svg,t,n.padding);c=t.distributeSeries&&t.stackBars?r.normalized.labels.slice(0,1):r.normalized.labels,t.horizontalBars?(l=h=void 0===t.axisX.type?new e.AutoScaleAxis(e.Axis.units.x,r.normalized.series,p,e.extend({},t.axisX,{highLow:i,referenceValue:0})):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,p,e.extend({},t.axisX,{highLow:i,referenceValue:0})),f=d=void 0===t.axisY.type?new e.StepAxis(e.Axis.units.y,r.normalized.series,p,{ticks:c}):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,p,t.axisY)):(f=h=void 0===t.axisX.type?new e.StepAxis(e.Axis.units.x,r.normalized.series,p,{ticks:c}):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,p,t.axisX),l=d=void 0===t.axisY.type?new e.AutoScaleAxis(e.Axis.units.y,r.normalized.series,p,e.extend({},t.axisY,{highLow:i,referenceValue:0})):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,p,e.extend({},t.axisY,{highLow:i,referenceValue:0})));var v=t.horizontalBars?p.x1+l.projectValue(0):p.y1-l.projectValue(0),m=[];f.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),l.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&e.createGridBackground(o,p,t.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,i){var o,s,u=i-(r.raw.series.length-1)/2;o=t.distributeSeries&&!t.stackBars?f.axisLength/r.normalized.series.length/2:t.distributeSeries&&t.stackBars?f.axisLength/2:f.axisLength/r.normalized.series[i].length/2,(s=a.elem("g")).attr({"ct:series-name":n.name,"ct:meta":e.serialize(n.meta)}),s.addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(i)].join(" ")),r.normalized.series[i].forEach(function(a,c){var y,g,b,x;if(x=t.distributeSeries&&!t.stackBars?i:t.distributeSeries&&t.stackBars?0:c,y=t.horizontalBars?{x:p.x1+l.projectValue(a&&a.x?a.x:0,c,r.normalized.series[i]),y:p.y1-f.projectValue(a&&a.y?a.y:0,x,r.normalized.series[i])}:{x:p.x1+f.projectValue(a&&a.x?a.x:0,x,r.normalized.series[i]),y:p.y1-l.projectValue(a&&a.y?a.y:0,c,r.normalized.series[i])},f instanceof e.StepAxis&&(f.options.stretch||(y[f.units.pos]+=o*(t.horizontalBars?-1:1)),y[f.units.pos]+=t.stackBars||t.distributeSeries?0:u*t.seriesBarDistance*(t.horizontalBars?-1:1)),b=m[c]||v,m[c]=b-(v-y[f.counterUnits.pos]),void 0!==a){var w={};w[f.units.pos+"1"]=y[f.units.pos],w[f.units.pos+"2"]=y[f.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[f.counterUnits.pos+"1"]=v,w[f.counterUnits.pos+"2"]=y[f.counterUnits.pos]):(w[f.counterUnits.pos+"1"]=b,w[f.counterUnits.pos+"2"]=m[c]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1);var k=e.getMetaData(n,c);g=s.elem("line",w,t.classNames.bar).attr({"ct:value":[a.x,a.y].filter(e.isNumeric).join(","),"ct:meta":e.serialize(k)}),this.eventEmitter.emit("draw",e.extend({type:"bar",value:a,index:c,meta:k,series:n,seriesIndex:i,axisX:h,axisY:d,chartRect:p,group:s,element:g},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:l.bounds,chartRect:p,axisX:h,axisY:d,svg:this.svg,options:t})}function i(t,r,i,o){e.Bar.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Bar=e.Base.extend({constructor:i,createChart:r})}(this||n.g,t),function(t,e){"use strict";t.window,t.document;var n={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:e.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function r(t,e,n){var r=e.x>t.x;return r&&"explode"===n||!r&&"implode"===n?"start":r&&"implode"===n||!r&&"explode"===n?"end":"middle"}function i(t){var i,o,a,s,u,l=e.normalizeData(this.data),c=[],f=t.startAngle;this.svg=e.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),o=e.createChartRect(this.svg,t,n.padding),a=Math.min(o.width()/2,o.height()/2),u=t.total||l.normalized.series.reduce((function(t,e){return t+e}),0);var h=e.quantity(t.donutWidth);"%"===h.unit&&(h.value*=a/100),a-=t.donut&&!t.donutSolid?h.value/2:0,s="outside"===t.labelPosition||t.donut&&!t.donutSolid?a:"center"===t.labelPosition?0:t.donutSolid?a-h.value/2:a/2,s+=t.labelOffset;var d={x:o.x1+o.width()/2,y:o.y2+o.height()/2},p=1===l.raw.series.filter((function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t})).length;l.raw.series.forEach(function(t,e){c[e]=this.svg.elem("g",null,null)}.bind(this)),t.showLabel&&(i=this.svg.elem("g",null,null)),l.raw.series.forEach(function(n,o){if(0!==l.normalized.series[o]||!t.ignoreEmptyValues){c[o].attr({"ct:series-name":n.name}),c[o].addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(o)].join(" "));var v=u>0?f+l.normalized.series[o]/u*360:0,m=Math.max(0,f-(0===o||p?0:.2));v-m>=359.99&&(v=m+359.99);var y,g,b,x=e.polarToCartesian(d.x,d.y,a,m),w=e.polarToCartesian(d.x,d.y,a,v),k=new e.Svg.Path(!t.donut||t.donutSolid).move(w.x,w.y).arc(a,a,0,v-f>180,0,x.x,x.y);t.donut?t.donutSolid&&(b=a-h.value,y=e.polarToCartesian(d.x,d.y,b,f-(0===o||p?0:.2)),g=e.polarToCartesian(d.x,d.y,b,v),k.line(y.x,y.y),k.arc(b,b,0,v-f>180,1,g.x,g.y)):k.line(d.x,d.y);var S=t.classNames.slicePie;t.donut&&(S=t.classNames.sliceDonut,t.donutSolid&&(S=t.classNames.sliceDonutSolid));var E=c[o].elem("path",{d:k.stringify()},S);if(E.attr({"ct:value":l.normalized.series[o],"ct:meta":e.serialize(n.meta)}),t.donut&&!t.donutSolid&&(E._node.style.strokeWidth=h.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:l.normalized.series[o],totalDataSum:u,index:o,meta:n.meta,series:n,group:c[o],element:E,path:k.clone(),center:d,radius:a,startAngle:f,endAngle:v}),t.showLabel){var A,L;A=1===l.raw.series.length?{x:d.x,y:d.y}:e.polarToCartesian(d.x,d.y,s,f+(v-f)/2),L=l.normalized.labels&&!e.isFalseyButZero(l.normalized.labels[o])?l.normalized.labels[o]:l.normalized.series[o];var T=t.labelInterpolationFnc(L,o);if(T||0===T){var M=i.elem("text",{dx:A.x,dy:A.y,"text-anchor":r(d,A,t.labelDirection)},t.classNames.label).text(""+T);this.eventEmitter.emit("draw",{type:"label",index:o,group:i,element:M,text:""+T,x:A.x,y:A.y})}}f=v}}.bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:t})}function o(t,r,i,o){e.Pie.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Pie=e.Base.extend({constructor:o,createChart:i,determineAnchorPosition:r})}(this||n.g,t),t}()}.apply(e,[]))||(t.exports=r)},5093:function(t,e,n){var r=n(3241);t.exports=r},8816:function(t,e,n){var r=n(3579);t.exports=r},3816:function(t,e,n){var r=n(8801);t.exports=r},201:function(t,e,n){var r=n(3399);t.exports=r},7248:function(t,e,n){var r=n(6894);t.exports=r},3440:function(t,e,n){var r=n(6553);t.exports=r},6955:function(t,e,n){var r=n(5162);t.exports=r},1164:function(t,e,n){var r=n(6845);t.exports=r},3862:function(t,e,n){var r=n(8044);t.exports=r},704:function(t,e,n){var r=n(5022);t.exports=r},4145:function(t,e,n){var r=n(1997);t.exports=r},5903:function(t,e,n){var r=n(8430);t.exports=r},3435:function(t,e,n){var r=n(1092);t.exports=r},645:function(t,e,n){var r=n(3194);t.exports=r},2011:function(t,e,n){var r=n(5227);t.exports=r},7960:function(t,e,n){var r=n(2556);t.exports=r},640:function(t,e,n){var r=n(1024);t.exports=r},1404:function(t,e,n){var r=n(1483);t.exports=r},8657:function(t,e,n){var r=n(4809);t.exports=r},9831:function(t,e,n){n(2496),n(9419);var r=n(6035);t.exports=r.Array.from},8187:function(t,e,n){n(5815);var r=n(6035);t.exports=r.Array.isArray},9147:function(t,e,n){n(1402);var r=n(638);t.exports=r("Array").concat},3842:function(t,e,n){n(2386);var r=n(638);t.exports=r("Array").filter},2166:function(t,e,n){n(5057);var r=n(638);t.exports=r("Array").find},6261:function(t,e,n){n(1900);var r=n(638);t.exports=r("Array").forEach},566:function(t,e,n){n(9346);var r=n(638);t.exports=r("Array").indexOf},2688:function(t,e,n){n(9778);var r=n(638);t.exports=r("Array").map},5059:function(t,e,n){n(9962);var r=n(638);t.exports=r("Array").reverse},7586:function(t,e,n){n(791);var r=n(638);t.exports=r("Array").slice},8868:function(t,e,n){n(4985);var r=n(638);t.exports=r("Array").sort},4063:function(t,e,n){n(3374);var r=n(638);t.exports=r("Array").splice},1495:function(t,e,n){n(1875);var r=n(638);t.exports=r("Function").bind},4341:function(t,e,n){n(598),n(2496);var r=n(1520);t.exports=r},3249:function(t,e,n){var r=n(397),i=n(1495),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||r(o,t)&&e===o.bind?i:e}},2079:function(t,e,n){var r=n(397),i=n(9147),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},2258:function(t,e,n){var r=n(397),i=n(3842),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||r(o,t)&&e===o.filter?i:e}},5294:function(t,e,n){var r=n(397),i=n(2166),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||r(o,t)&&e===o.find?i:e}},7076:function(t,e,n){var r=n(397),i=n(566),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},3692:function(t,e,n){var r=n(397),i=n(2688),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},9878:function(t,e,n){var r=n(397),i=n(5059),o=Array.prototype;t.exports=function(t){var e=t.reverse;return t===o||r(o,t)&&e===o.reverse?i:e}},4485:function(t,e,n){var r=n(397),i=n(7586),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},633:function(t,e,n){var r=n(397),i=n(8868),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||r(o,t)&&e===o.sort?i:e}},3095:function(t,e,n){var r=n(397),i=n(4063),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||r(o,t)&&e===o.splice?i:e}},1599:function(t,e,n){var r=n(397),i=n(8734),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},3658:function(t,e,n){n(4802);var r=n(6035),i=n(8505);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return i(r.JSON.stringify,null,arguments)}},1523:function(t,e,n){n(598),n(8453),n(5345),n(2496);var r=n(6035);t.exports=r.Map},9490:function(t,e,n){n(9588);var r=n(6035);t.exports=r.Math.trunc},7854:function(t,e,n){n(2458),t.exports=Math.pow(2,-52)},2852:function(t,e,n){n(8854);var r=n(6035);t.exports=r.Number.isSafeInteger},3192:function(t,e,n){n(4851);var r=n(6035).Object;t.exports=function(t,e){return r.create(t,e)}},2807:function(t,e,n){n(4137);var r=n(6035).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},4180:function(t,e,n){n(9817);var r=n(6035);t.exports=r.Object.entries},9739:function(t,e,n){n(6467);var r=n(6035).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},5759:function(t,e,n){n(5465);var r=n(6035);t.exports=r.Object.getPrototypeOf},5553:function(t,e,n){n(4933);var r=n(6035);t.exports=r.Object.keys},7866:function(t,e,n){n(6592);var r=n(6035);t.exports=r.Object.setPrototypeOf},7647:function(t,e,n){n(4233),n(598),n(5345),n(357),n(9891),n(1323),n(9393),n(2496);var r=n(6035);t.exports=r.Promise},700:function(t,e,n){n(5801);var r=n(6035);t.exports=r.Reflect.construct},836:function(t,e,n){n(2879);var r=n(6035);t.exports=r.Reflect.get},5293:function(t,e,n){n(598),n(5345),n(4046),n(2496);var r=n(6035);t.exports=r.Set},8734:function(t,e,n){n(5753);var r=n(638);t.exports=r("String").trim},9211:function(t,e,n){n(1402),n(5345),n(6713),n(1160),n(3902),n(8353),n(8186),n(7059),n(6398),n(8578),n(3318),n(9544),n(2125),n(6121),n(7223),n(5737),n(5948),n(3837),n(3397),n(9297);var r=n(6035);t.exports=r.Symbol},9647:function(t,e,n){n(598),n(5345),n(2496),n(7059);var r=n(7905);t.exports=r.f("iterator")},1665:function(t,e,n){var r=n(5093);t.exports=r},8173:function(t,e,n){var r=n(8816);t.exports=r},263:function(t,e,n){var r=n(3816);t.exports=r},6017:function(t,e,n){var r=n(201);t.exports=r},2512:function(t,e,n){var r=n(7248);t.exports=r},8945:function(t,e,n){var r=n(3440);t.exports=r},3598:function(t,e,n){var r=n(6955);t.exports=r},830:function(t,e,n){var r=n(1164);t.exports=r},8993:function(t,e,n){var r=n(3862);n(7009),n(8104),n(3279),n(1189),n(8180),n(1121),n(7879),n(5336),n(5677),n(3285),n(6272),n(2647),n(8796),n(6857),n(2645),n(9639),n(3357),n(5653),n(4694),n(671),t.exports=r},688:function(t,e,n){var r=n(704);t.exports=r},1422:function(t,e,n){var r=n(4145);t.exports=r},9259:function(t,e,n){var r=n(5903);t.exports=r},8327:function(t,e,n){var r=n(3435);t.exports=r},6438:function(t,e,n){var r=n(645);t.exports=r},5365:function(t,e,n){var r=n(2011);n(4024),n(9389),n(1898),n(9975),t.exports=r},4338:function(t,e,n){var r=n(7960);t.exports=r},2538:function(t,e,n){var r=n(640);t.exports=r},499:function(t,e,n){var r=n(1404);n(1634),n(8251),n(4461),n(1482),n(5777),n(9181),n(8472),t.exports=r},488:function(t,e,n){var r=n(8657);t.exports=r},1759:function(t,e,n){var r=n(4569),i=n(6889),o=n(4877),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},5344:function(t,e,n){var r=n(4569),i=n(5179),o=n(4877),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},2605:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(4569),o=n(6889),a=i.String,s=i.TypeError;t.exports=function(t){if("object"==r(t)||o(t))return t;throw s("Can't set "+a(t)+" as a prototype")}},8695:function(t){t.exports=function(){}},9730:function(t,e,n){var r=n(4569),i=n(397),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},6879:function(t,e,n){var r=n(4569),i=n(9574),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},9508:function(t,e,n){var r=n(8790);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},7813:function(t,e,n){"use strict";var r=n(4496).forEach,i=n(74)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4769:function(t,e,n){"use strict";var r=n(4569),i=n(490),o=n(5784),a=n(4267),s=n(1905),u=n(7336),l=n(5179),c=n(2077),f=n(592),h=n(7829),d=n(1520),p=r.Array;t.exports=function(t){var e=a(t),n=l(this),r=arguments.length,v=r>1?arguments[1]:void 0,m=void 0!==v;m&&(v=i(v,r>2?arguments[2]:void 0));var y,g,b,x,w,k,S=d(e),E=0;if(!S||this==p&&u(S))for(y=c(e),g=n?new this(y):p(y);y>E;E++)k=m?v(e[E],E):e[E],f(g,E,k);else for(w=(x=h(e,S)).next,g=n?new this:[];!(b=o(w,x)).done;E++)k=m?s(x,v,[b.value,E],!0):b.value,f(g,E,k);return g.length=E,g}},9760:function(t,e,n){var r=n(7816),i=n(2005),o=n(2077),a=function(t){return function(e,n,a){var s,u=r(e),l=o(u),c=i(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4496:function(t,e,n){var r=n(490),i=n(5169),o=n(5769),a=n(4267),s=n(2077),u=n(2757),l=i([].push),c=function(t){var e=1==t,n=2==t,i=3==t,c=4==t,f=6==t,h=7==t,d=5==t||f;return function(p,v,m,y){for(var g,b,x=a(p),w=o(x),k=r(v,m),S=s(w),E=0,A=y||u,L=e?A(p,S):n||h?A(p,0):void 0;S>E;E++)if((d||E in w)&&(b=k(g=w[E],E,x),t))if(e)L[E]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:l(L,g)}else switch(t){case 4:return!1;case 7:l(L,g)}return f?-1:i||c?c:L}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},8555:function(t,e,n){var r=n(8790),i=n(2735),o=n(6952),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},74:function(t,e,n){"use strict";var r=n(8790);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},8937:function(t,e,n){var r=n(4569),i=n(2005),o=n(2077),a=n(592),s=r.Array,u=Math.max;t.exports=function(t,e,n){for(var r=o(t),l=i(e,r),c=i(void 0===n?r:n,r),f=s(u(c-l,0)),h=0;l<c;l++,h++)a(f,h,t[l]);return f.length=h,f}},2599:function(t,e,n){var r=n(5169);t.exports=r([].slice)},4936:function(t,e,n){var r=n(8937),i=Math.floor,o=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},a=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t};t.exports=function t(e,n){var s=e.length,u=i(s/2);return s<8?o(e,n):a(e,t(r(e,0,u),n),t(r(e,u),n),n)}},1118:function(t,e,n){var r=n(4569),i=n(8984),o=n(5179),a=n(9574),s=n(2735)("species"),u=r.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},2757:function(t,e,n){var r=n(1118);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},1905:function(t,e,n){var r=n(6879),i=n(9368);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){i(t,"throw",e)}}},9069:function(t,e,n){var r=n(2735)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},8154:function(t,e,n){var r=n(5169),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},5885:function(t,e,n){var r=n(4569),i=n(2401),o=n(6889),a=n(8154),s=n(2735)("toStringTag"),u=r.Object,l="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=u(t),s))?n:l?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},7526:function(t,e,n){var r=n(5169)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=r(t,o,"");return t}},7424:function(t,e,n){"use strict";var r=n(5784),i=n(1759),o=n(6879);t.exports=function(){for(var t,e=o(this),n=i(e.delete),a=!0,s=0,u=arguments.length;s<u;s++)t=r(n,e,arguments[s]),a=a&&t;return!!a}},4719:function(t,e,n){"use strict";var r=n(490),i=n(5784),o=n(1759),a=n(5344),s=n(9335),u=[].push;t.exports=function(t){var e,n,l,c,f=arguments.length,h=f>1?arguments[1]:void 0;return a(this),(e=void 0!==h)&&o(h),null==t?new this:(n=[],e?(l=0,c=r(h,f>2?arguments[2]:void 0),s(t,(function(t){i(u,n,c(t,l++))}))):s(t,u,{that:n}),new this(n))}},7743:function(t,e,n){"use strict";var r=n(2599);t.exports=function(){return new this(r(arguments))}},1088:function(t,e,n){"use strict";var r=n(6445).f,i=n(4045),o=n(4675),a=n(490),s=n(9730),u=n(9335),l=n(5329),c=n(6619),f=n(41),h=n(5697).fastKey,d=n(975),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){s(t,d),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&u(r,t[l],{that:t,AS_ENTRIES:n})})),d=c.prototype,m=v(e),y=function(t,e,n){var r,i,o=m(t),a=g(t,e);return a?a.value=n:(o.last=a={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},g=function(t,e){var n,r=m(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(d,{clear:function(){for(var t=m(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=m(e),r=g(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=m(this),r=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),o(d,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),f&&r(d,"size",{get:function(){return m(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);l(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},943:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(5697),a=n(8790),s=n(8444),u=n(9335),l=n(9730),c=n(6889),f=n(9574),h=n(6482),d=n(6445).f,p=n(4496).forEach,v=n(41),m=n(975),y=m.set,g=m.getterFor;t.exports=function(t,e,n){var m,b=-1!==t.indexOf("Map"),x=-1!==t.indexOf("Weak"),w=b?"set":"add",k=i[t],S=k&&k.prototype,E={};if(v&&c(k)&&(x||S.forEach&&!a((function(){(new k).entries().next()})))){var A=(m=e((function(e,n){y(l(e,A),{type:t,collection:new k}),null!=n&&u(n,e[w],{that:e,AS_ENTRIES:b})}))).prototype,L=g(t);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in S)||x&&"clear"==t||s(A,t,(function(n,r){var i=L(this).collection;if(!e&&x&&!f(n))return"get"==t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),x||d(A,"size",{configurable:!0,get:function(){return L(this).collection.size}})}else m=n.getConstructor(e,t,b,w),o.enable();return h(m,t,!1,!0),E[t]=m,r({global:!0,forced:!0},E),x||n.setStrong(m,t,b),m}},5647:function(t,e,n){var r=n(4037),i=n(4645),o=n(2435),a=n(6445);t.exports=function(t,e,n){for(var s=i(e),u=a.f,l=o.f,c=0;c<s.length;c++){var f=s[c];r(t,f)||n&&r(n,f)||u(t,f,l(e,f))}}},5949:function(t,e,n){var r=n(8790);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6745:function(t,e,n){"use strict";var r=n(3327).IteratorPrototype,i=n(4045),o=n(3196),a=n(6482),s=n(8830),u=function(){return this};t.exports=function(t,e,n,l){var c=e+" Iterator";return t.prototype=i(r,{next:o(+!l,n)}),a(t,c,!1,!0),s[c]=u,t}},8444:function(t,e,n){var r=n(41),i=n(6445),o=n(3196);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},3196:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},592:function(t,e,n){"use strict";var r=n(4773),i=n(6445),o=n(3196);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},5329:function(t,e,n){"use strict";var r=n(1301),i=n(5784),o=n(1567),a=n(9717),s=n(6889),u=n(6745),l=n(6066),c=n(2370),f=n(6482),h=n(8444),d=n(1120),p=n(2735),v=n(8830),m=n(3327),y=a.PROPER,g=a.CONFIGURABLE,b=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),k="keys",S="values",E="entries",A=function(){return this};t.exports=function(t,e,n,a,p,m,L){u(n,e,a);var T,M,O,P=function(t){if(t===p&&R)return R;if(!x&&t in C)return C[t];switch(t){case k:case S:case E:return function(){return new n(this,t)}}return function(){return new n(this)}},_=e+" Iterator",I=!1,C=t.prototype,j=C[w]||C["@@iterator"]||p&&C[p],R=!x&&j||P(p),U="Array"==e&&C.entries||j;if(U&&(T=l(U.call(new t)))!==Object.prototype&&T.next&&(o||l(T)===b||(c?c(T,b):s(T[w])||d(T,w,A)),f(T,_,!0,!0),o&&(v[_]=A)),y&&p==S&&j&&j.name!==S&&(!o&&g?h(C,"name",S):(I=!0,R=function(){return i(j,this)})),p)if(M={values:P(S),keys:m?R:P(k),entries:P(E)},L)for(O in M)(x||I||!(O in C))&&d(C,O,M[O]);else r({target:e,proto:!0,forced:x||I},M);return o&&!L||C[w]===R||d(C,w,R,{name:p}),v[e]=R,M}},7025:function(t,e,n){var r=n(6035),i=n(4037),o=n(7905),a=n(6445).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},41:function(t,e,n){var r=n(8790);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2167:function(t,e,n){var r=n(4569),i=n(9574),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},4317:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},1067:function(t,e,n){var r=n(3265).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},283:function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports="object"==("undefined"==typeof window?"undefined":e(window))},1651:function(t,e,n){var r=n(3265);t.exports=/MSIE|Trident/.test(r)},9391:function(t,e,n){var r=n(3265),i=n(4569);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},4352:function(t,e,n){var r=n(3265);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},478:function(t,e,n){var r=n(8154),i=n(4569);t.exports="process"==r(i.process)},122:function(t,e,n){var r=n(3265);t.exports=/web0s(?!.*chrome)/i.test(r)},3265:function(t,e,n){var r=n(5972);t.exports=r("navigator","userAgent")||""},6952:function(t,e,n){var r,i,o=n(4569),a=n(3265),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},1825:function(t,e,n){var r=n(3265).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},638:function(t,e,n){var r=n(6035);t.exports=function(t){return r[t+"Prototype"]}},667:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},792:function(t,e,n){var r=n(8790),i=n(3196);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},1301:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(4569),o=n(8505),a=n(5169),s=n(6889),u=n(2435).f,l=n(3730),c=n(6035),f=n(490),h=n(8444),d=n(4037),p=function(t){var e=function e(n,r,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,i)}return o(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,o,v,m,y,g,b,x,w=t.target,k=t.global,S=t.stat,E=t.proto,A=k?i:S?i[w]:(i[w]||{}).prototype,L=k?c:c[w]||h(c,w,{})[w],T=L.prototype;for(v in e)n=!l(k?v:w+(S?".":"#")+v,t.forced)&&A&&d(A,v),y=L[v],n&&(g=t.noTargetGet?(x=u(A,v))&&x.value:A[v]),m=n&&g?g:e[v],n&&r(y)==r(m)||(b=t.bind&&n?f(m,i):t.wrap&&n?p(m):E&&s(m)?a(m):m,(t.sham||m&&m.sham||y&&y.sham)&&h(b,"sham",!0),h(L,v,b),E&&(d(c,o=w+"Prototype")||h(c,o,{}),h(c[o],v,m),t.real&&T&&!T[v]&&h(T,v,m)))}},8790:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9132:function(t,e,n){var r=n(8790);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},8505:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(519),o=Function.prototype,a=o.apply,s=o.call;t.exports="object"==("undefined"==typeof Reflect?"undefined":r(Reflect))&&Reflect.apply||(i?s.bind(a):function(){return s.apply(a,arguments)})},490:function(t,e,n){var r=n(5169),i=n(1759),o=n(519),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},519:function(t,e,n){var r=n(8790);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},5024:function(t,e,n){"use strict";var r=n(4569),i=n(5169),o=n(1759),a=n(9574),s=n(4037),u=n(2599),l=n(519),c=r.Function,f=i([].concat),h=i([].join),d={},p=function(t,e,n){if(!s(d,e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";d[e]=c("C,a","return new C("+h(r,",")+")")}return d[e](t,n)};t.exports=l?c.bind:function(t){var e=o(this),n=e.prototype,r=u(arguments,1),i=function(){var n=f(r,u(arguments));return this instanceof i?p(e,n.length,n):e.apply(t,n)};return a(n)&&(i.prototype=n),i}},5784:function(t,e,n){var r=n(519),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9717:function(t,e,n){var r=n(41),i=n(4037),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},5169:function(t,e,n){var r=n(519),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5972:function(t,e,n){var r=n(6035),i=n(4569),o=n(6889),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},1520:function(t,e,n){var r=n(5885),i=n(9732),o=n(8830),a=n(2735)("iterator");t.exports=function(t){if(null!=t)return i(t,a)||i(t,"@@iterator")||o[r(t)]}},7829:function(t,e,n){var r=n(4569),i=n(5784),o=n(1759),a=n(6879),s=n(4877),u=n(1520),l=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?u(t):e;if(o(n))return a(i(n,t));throw l(s(t)+" is not iterable")}},2447:function(t,e,n){var r=n(7829);t.exports=r},9732:function(t,e,n){var r=n(1759);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},4569:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==("undefined"==typeof globalThis?"undefined":r(globalThis))&&globalThis)||i("object"==("undefined"==typeof window?"undefined":r(window))&&window)||i("object"==("undefined"==typeof self?"undefined":r(self))&&self)||i("object"==(void 0===n.g?"undefined":r(n.g))&&n.g)||function(){return this}()||Function("return this")()},4037:function(t,e,n){var r=n(5169),i=n(4267),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},5583:function(t){t.exports={}},9538:function(t,e,n){var r=n(4569);t.exports=function(t,e){var n=r.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}},1140:function(t,e,n){var r=n(5972);t.exports=r("document","documentElement")},3899:function(t,e,n){var r=n(41),i=n(8790),o=n(2167);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5769:function(t,e,n){var r=n(4569),i=n(5169),o=n(8790),a=n(8154),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},8304:function(t,e,n){var r=n(5169),i=n(6889),o=n(9047),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},6493:function(t,e,n){var r=n(9574),i=n(8444);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},5697:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(1301),o=n(5169),a=n(5583),s=n(9574),u=n(4037),l=n(6445).f,c=n(9792),f=n(3720),h=n(4670),d=n(158),p=n(9132),v=!1,m=d("meta"),y=0,g=function(t){l(t,m,{value:{objectID:"O"+y++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},v=!0;var t=c.f,e=o([].splice),n={};n[m]=1,t(n).length&&(c.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===m){e(r,i,1);break}return r},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},fastKey:function(t,e){if(!s(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!u(t,m)){if(!h(t))return"F";if(!e)return"E";g(t)}return t[m].objectID},getWeakData:function(t,e){if(!u(t,m)){if(!h(t))return!0;if(!e)return!1;g(t)}return t[m].weakData},onFreeze:function(t){return p&&v&&h(t)&&!u(t,m)&&g(t),t}};a[m]=!0},975:function(t,e,n){var r,i,o,a=n(3693),s=n(4569),u=n(5169),l=n(9574),c=n(8444),f=n(4037),h=n(9047),d=n(3674),p=n(5583),v="Object already initialized",m=s.TypeError,y=s.WeakMap;if(a||h.state){var g=h.state||(h.state=new y),b=u(g.get),x=u(g.has),w=u(g.set);r=function(t,e){if(x(g,t))throw new m(v);return e.facade=t,w(g,t,e),e},i=function(t){return b(g,t)||{}},o=function(t){return x(g,t)}}else{var k=d("state");p[k]=!0,r=function(t,e){if(f(t,k))throw new m(v);return e.facade=t,c(t,k,e),e},i=function(t){return f(t,k)?t[k]:{}},o=function(t){return f(t,k)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return n}}}},7336:function(t,e,n){var r=n(2735),i=n(8830),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},8984:function(t,e,n){var r=n(8154);t.exports=Array.isArray||function(t){return"Array"==r(t)}},6889:function(t){t.exports=function(t){return"function"==typeof t}},5179:function(t,e,n){var r=n(5169),i=n(8790),o=n(6889),a=n(5885),s=n(5972),u=n(8304),l=function(){},c=[],f=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),p=!h.exec(l),v=function(t){if(!o(t))return!1;try{return f(l,c,t),!0}catch(t){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(h,u(t))}catch(t){return!0}};m.sham=!0,t.exports=!f||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},5991:function(t,e,n){var r=n(4037);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},3730:function(t,e,n){var r=n(8790),i=n(6889),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==c||n!=l&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},7911:function(t,e,n){var r=n(9574),i=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&i(t)===t}},9574:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(6889);t.exports=function(t){return"object"==r(t)?null!==t:i(t)}},1567:function(t){t.exports=!0},3608:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(4569),o=n(5972),a=n(6889),s=n(397),u=n(5699),l=i.Object;t.exports=u?function(t){return"symbol"==r(t)}:function(t){var e=o("Symbol");return a(e)&&s(e.prototype,l(t))}},9335:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(4569),o=n(490),a=n(5784),s=n(6879),u=n(4877),l=n(7336),c=n(2077),f=n(397),h=n(7829),d=n(1520),p=n(9368),v=i.TypeError,m=function(t,e){this.stopped=t,this.result=e},y=m.prototype;t.exports=function(t,e,n){var i,g,b,x,w,k,S,E=n&&n.that,A=!(!n||!n.AS_ENTRIES),L=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),M=o(e,E),O=function(t){return i&&p(i,"normal",t),new m(!0,t)},P=function(t){return A?(s(t),T?M(t[0],t[1],O):M(t[0],t[1])):T?M(t,O):M(t)};if(L)i=t;else{if(!(g=d(t)))throw v(u(t)+" is not iterable");if(l(g)){for(b=0,x=c(t);x>b;b++)if((w=P(t[b]))&&f(y,w))return w;return new m(!1)}i=h(t,g)}for(k=i.next;!(S=a(k,i)).done;){try{w=P(S.value)}catch(t){p(i,"throw",t)}if("object"==r(w)&&w&&f(y,w))return w}return new m(!1)}},9368:function(t,e,n){var r=n(5784),i=n(6879),o=n(9732);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return i(a),n}},3327:function(t,e,n){"use strict";var r,i,o,a=n(8790),s=n(6889),u=n(4045),l=n(6066),c=n(1120),f=n(2735),h=n(1567),d=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):p=!0),null==r||a((function(){var t={};return r[d].call(t)!==t}))?r={}:h&&(r=u(r)),s(r[d])||c(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},8830:function(t){t.exports={}},2077:function(t,e,n){var r=n(1547);t.exports=function(t){return r(t.length)}},9874:function(t,e,n){"use strict";var r=n(5784),i=n(1759),o=n(6879);t.exports=function(t,e){var n=o(this),a=i(n.get),s=i(n.has),u=i(n.set),l=r(s,n,t)&&"update"in e?e.update(r(a,n,t),t,n):e.insert(t,n);return r(u,n,t,l),l}},3268:function(t,e,n){"use strict";var r=n(4569),i=n(5784),o=n(1759),a=n(6889),s=n(6879),u=r.TypeError;t.exports=function(t,e){var n,r=s(this),l=o(r.get),c=o(r.has),f=o(r.set),h=arguments.length>2?arguments[2]:void 0;if(!a(e)&&!a(h))throw u("At least one callback required");return i(c,r,t)?(n=i(l,r,t),a(e)&&(n=e(n),i(f,r,t,n))):a(h)&&(n=h(),i(f,r,t,n)),n}},3853:function(t,e,n){var r,i,o,a,s,u,l,c,f=n(4569),h=n(490),d=n(2435).f,p=n(912).set,v=n(4352),m=n(9391),y=n(122),g=n(478),b=f.MutationObserver||f.WebKitMutationObserver,x=f.document,w=f.process,k=f.Promise,S=d(f,"queueMicrotask"),E=S&&S.value;E||(r=function(){var t,e;for(g&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v||g||y||!b||!x?!m&&k&&k.resolve?((l=k.resolve(void 0)).constructor=k,c=h(l.then,l),a=function(){c(r)}):g?a=function(){w.nextTick(r)}:(p=h(p,f),a=function(){p(r)}):(s=!0,u=x.createTextNode(""),new b(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=E||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},6495:function(t,e,n){var r=n(4569);t.exports=r.Promise},7873:function(t,e,n){var r=n(6952),i=n(8790);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8437:function(t,e,n){var r=n(8790),i=n(2735),o=n(1567),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},3693:function(t,e,n){var r=n(4569),i=n(6889),o=n(8304),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},8532:function(t,e,n){"use strict";var r=n(1759),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},3475:function(t,e,n){var r=n(3593);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},4045:function(t,e,n){var r,i=n(6879),o=n(931),a=n(667),s=n(5583),u=n(1140),l=n(2167),c=n(3674),f=c("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&r?p(r):((e=l("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):p(r);for(var n=a.length;n--;)delete v.prototype[a[n]];return v()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[f]=t):n=v(),void 0===e?n:o.f(n,e)}},931:function(t,e,n){var r=n(41),i=n(7927),o=n(6445),a=n(6879),s=n(7816),u=n(2518);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=u(e),l=i.length,c=0;l>c;)o.f(t,n=i[c++],r[n]);return t}},6445:function(t,e,n){var r=n(4569),i=n(41),o=n(3899),a=n(7927),s=n(6879),u=n(4773),l=r.TypeError,c=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=i?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n.writable){var r=f(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:d in n?n.configurable:r.configurable,enumerable:h in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=u(e),s(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},2435:function(t,e,n){var r=n(41),i=n(5784),o=n(665),a=n(3196),s=n(7816),u=n(4773),l=n(4037),c=n(3899),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),c)try{return f(t,e)}catch(t){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},3720:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(8154),o=n(7816),a=n(9792).f,s=n(8937),u="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==i(t)?function(t){try{return a(t)}catch(t){return s(u)}}(t):a(o(t))}},9792:function(t,e,n){var r=n(4839),i=n(667).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},8440:function(t,e){e.f=Object.getOwnPropertySymbols},6066:function(t,e,n){var r=n(4569),i=n(4037),o=n(6889),a=n(4267),s=n(3674),u=n(5949),l=s("IE_PROTO"),c=r.Object,f=c.prototype;t.exports=u?c.getPrototypeOf:function(t){var e=a(t);if(i(e,l))return e[l];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof c?f:null}},4670:function(t,e,n){var r=n(8790),i=n(9574),o=n(8154),a=n(9508),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s},397:function(t,e,n){var r=n(5169);t.exports=r({}.isPrototypeOf)},4839:function(t,e,n){var r=n(5169),i=n(4037),o=n(7816),a=n(9760).indexOf,s=n(5583),u=r([].push);t.exports=function(t,e){var n,r=o(t),l=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&u(c,n);for(;e.length>l;)i(r,n=e[l++])&&(~a(c,n)||u(c,n));return c}},2518:function(t,e,n){var r=n(4839),i=n(667);t.exports=Object.keys||function(t){return r(t,i)}},665:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2370:function(t,e,n){var r=n(5169),i=n(6879),o=n(2605);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},8227:function(t,e,n){var r=n(41),i=n(5169),o=n(2518),a=n(7816),s=i(n(665).f),u=i([].push),l=function(t){return function(e){for(var n,i=a(e),l=o(i),c=l.length,f=0,h=[];c>f;)n=l[f++],r&&!s(i,n)||u(h,t?[n,i[n]]:i[n]);return h}};t.exports={entries:l(!0),values:l(!1)}},1127:function(t,e,n){"use strict";var r=n(2401),i=n(5885);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},8968:function(t,e,n){var r=n(4569),i=n(5784),o=n(6889),a=n(9574),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},4645:function(t,e,n){var r=n(5972),i=n(5169),o=n(9792),a=n(8440),s=n(6879),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},6035:function(t){t.exports={}},9409:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},513:function(t,e,n){var r=n(6879),i=n(9574),o=n(8532);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},8789:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},4675:function(t,e,n){var r=n(1120);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},1120:function(t,e,n){var r=n(8444);t.exports=function(t,e,n,i){i&&i.enumerable?t[e]=n:r(t,e,n)}},7339:function(t,e,n){var r=n(4569).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},4723:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},4430:function(t,e,n){var r=n(4569),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6619:function(t,e,n){"use strict";var r=n(5972),i=n(6445),o=n(2735),a=n(41),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},6482:function(t,e,n){var r=n(2401),i=n(6445).f,o=n(8444),a=n(4037),s=n(1127),u=n(2735)("toStringTag");t.exports=function(t,e,n,l){if(t){var c=n?t:t.prototype;a(c,u)||i(c,u,{configurable:!0,value:e}),l&&!r&&o(c,"toString",s)}}},3674:function(t,e,n){var r=n(7450),i=n(158),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},9047:function(t,e,n){var r=n(4569),i=n(4430),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},7450:function(t,e,n){var r=n(1567),i=n(9047);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6723:function(t,e,n){var r=n(6879),i=n(5344),o=n(2735)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},2997:function(t,e,n){var r=n(5169),i=n(463),o=n(3593),a=n(7339),s=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(t){return function(e,n){var r,c,f=o(a(e)),h=i(n),d=f.length;return h<0||h>=d?t?"":void 0:(r=u(f,h))<55296||r>56319||h+1===d||(c=u(f,h+1))<56320||c>57343?t?s(f,h):r:t?l(f,h,h+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},2640:function(t,e,n){var r=n(9717).PROPER,i=n(8790),o=n(4931);t.exports=function(t){return i((function(){return!!o[t]()||""!==""[t]()||r&&o[t].name!==t}))}},9394:function(t,e,n){var r=n(5169),i=n(7339),o=n(3593),a=n(4931),s=r("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),c=RegExp(u+u+"*$"),f=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,l,"")),2&t&&(n=s(n,c,"")),n}};t.exports={start:f(1),end:f(2),trim:f(3)}},912:function(t,e,n){var r,i,o,a,s=n(4569),u=n(8505),l=n(490),c=n(6889),f=n(4037),h=n(8790),d=n(1140),p=n(2599),v=n(2167),m=n(1359),y=n(4352),g=n(478),b=s.setImmediate,x=s.clearImmediate,w=s.process,k=s.Dispatch,S=s.Function,E=s.MessageChannel,A=s.String,L=0,T={},M="onreadystatechange";try{r=s.location}catch(t){}var O=function(t){if(f(T,t)){var e=T[t];delete T[t],e()}},P=function(t){return function(){O(t)}},_=function(t){O(t.data)},I=function(t){s.postMessage(A(t),r.protocol+"//"+r.host)};b&&x||(b=function(t){m(arguments.length,1);var e=c(t)?t:S(t),n=p(arguments,1);return T[++L]=function(){u(e,void 0,n)},i(L),L},x=function(t){delete T[t]},g?i=function(t){w.nextTick(P(t))}:k&&k.now?i=function(t){k.now(P(t))}:E&&!y?(a=(o=new E).port2,o.port1.onmessage=_,i=l(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(I)?(i=I,s.addEventListener("message",_,!1)):i=M in v("script")?function(t){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),O(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:b,clear:x}},2005:function(t,e,n){var r=n(463),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},7816:function(t,e,n){var r=n(5769),i=n(7339);t.exports=function(t){return r(i(t))}},463:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!=r||0===r?0:(r>0?n:e)(r)}},1547:function(t,e,n){var r=n(463),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},4267:function(t,e,n){var r=n(4569),i=n(7339),o=r.Object;t.exports=function(t){return o(i(t))}},809:function(t,e,n){var r=n(4569),i=n(5784),o=n(9574),a=n(3608),s=n(9732),u=n(8968),l=n(2735),c=r.TypeError,f=l("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,f);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4773:function(t,e,n){var r=n(809),i=n(3608);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2401:function(t,e,n){var r={};r[n(2735)("toStringTag")]="z",t.exports="[object z]"===String(r)},3593:function(t,e,n){var r=n(4569),i=n(5885),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},4877:function(t,e,n){var r=n(4569).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},158:function(t,e,n){var r=n(5169),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},5699:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(7873);t.exports=i&&!Symbol.sham&&"symbol"==r(Symbol.iterator)},7927:function(t,e,n){var r=n(41),i=n(8790);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1359:function(t,e,n){var r=n(4569).TypeError;t.exports=function(t,e){if(t<e)throw r("Not enough arguments");return t}},7905:function(t,e,n){var r=n(2735);e.f=r},2735:function(t,e,n){var r=n(4569),i=n(7450),o=n(4037),a=n(158),s=n(7873),u=n(5699),l=i("wks"),c=r.Symbol,f=c&&c.for,h=u?c:c&&c.withoutSetter||a;t.exports=function(t){if(!o(l,t)||!s&&"string"!=typeof l[t]){var e="Symbol."+t;s&&o(c,t)?l[t]=c[t]:l[t]=u&&f?f(e):h(e)}return l[t]}},4931:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},4233:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(397),a=n(6066),s=n(2370),u=n(5647),l=n(4045),c=n(8444),f=n(3196),h=n(7526),d=n(6493),p=n(9335),v=n(3475),m=n(2735),y=n(792),g=m("toStringTag"),b=i.Error,x=[].push,w=function(t,e){var n,r=arguments.length>2?arguments[2]:void 0,i=o(k,this);s?n=s(new b,i?a(this):k):(n=i?this:l(k),c(n,g,"Error")),void 0!==e&&c(n,"message",v(e)),y&&c(n,"stack",h(n.stack,1)),d(n,r);var u=[];return p(t,x,{that:u}),c(n,"errors",u),n};s?s(w,b):u(w,b,{name:!0});var k=w.prototype=l(b.prototype,{constructor:f(1,w),message:f(1,""),name:f(1,"AggregateError")});r({global:!0},{AggregateError:w})},1402:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(8790),a=n(8984),s=n(9574),u=n(4267),l=n(2077),c=n(592),f=n(2757),h=n(8555),d=n(2735),p=n(6952),v=d("isConcatSpreadable"),m=9007199254740991,y="Maximum allowed index exceeded",g=i.TypeError,b=p>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),x=h("concat"),w=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!b||!x},{concat:function(t){var e,n,r,i,o,a=u(this),s=f(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(w(o=-1===e?a:arguments[e])){if(h+(i=l(o))>m)throw g(y);for(n=0;n<i;n++,h++)n in o&&c(s,h,o[n])}else{if(h>=m)throw g(y);c(s,h++,o)}return s.length=h,s}})},2386:function(t,e,n){"use strict";var r=n(1301),i=n(4496).filter;r({target:"Array",proto:!0,forced:!n(8555)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5057:function(t,e,n){"use strict";var r=n(1301),i=n(4496).find,o=n(8695),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},1900:function(t,e,n){"use strict";var r=n(1301),i=n(7813);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},9419:function(t,e,n){var r=n(1301),i=n(4769);r({target:"Array",stat:!0,forced:!n(9069)((function(t){Array.from(t)}))},{from:i})},9346:function(t,e,n){"use strict";var r=n(1301),i=n(5169),o=n(9760).indexOf,a=n(74),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,l=a("indexOf");r({target:"Array",proto:!0,forced:u||!l},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},5815:function(t,e,n){n(1301)({target:"Array",stat:!0},{isArray:n(8984)})},598:function(t,e,n){"use strict";var r=n(7816),i=n(8695),o=n(8830),a=n(975),s=n(6445).f,u=n(5329),l=n(1567),c=n(41),f="Array Iterator",h=a.set,d=a.getterFor(f);t.exports=u(Array,"Array",(function(t,e){h(this,{type:f,target:r(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&c&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(t){}},9778:function(t,e,n){"use strict";var r=n(1301),i=n(4496).map;r({target:"Array",proto:!0,forced:!n(8555)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},9962:function(t,e,n){"use strict";var r=n(1301),i=n(5169),o=n(8984),a=i([].reverse),s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a(this)}})},791:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(8984),a=n(5179),s=n(9574),u=n(2005),l=n(2077),c=n(7816),f=n(592),h=n(2735),d=n(8555),p=n(2599),v=d("slice"),m=h("species"),y=i.Array,g=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var n,r,i,h=c(this),d=l(h),v=u(t,d),b=u(void 0===e?d:e,d);if(o(h)&&(n=h.constructor,(a(n)&&(n===y||o(n.prototype))||s(n)&&null===(n=n[m]))&&(n=void 0),n===y||void 0===n))return p(h,v,b);for(r=new(void 0===n?y:n)(g(b-v,0)),i=0;v<b;v++,i++)v in h&&f(r,i,h[v]);return r.length=i,r}})},4985:function(t,e,n){"use strict";var r=n(1301),i=n(5169),o=n(1759),a=n(4267),s=n(2077),u=n(3593),l=n(8790),c=n(4936),f=n(74),h=n(1067),d=n(1651),p=n(6952),v=n(1825),m=[],y=i(m.sort),g=i(m.push),b=l((function(){m.sort(void 0)})),x=l((function(){m.sort(null)})),w=f("sort"),k=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(d)return!0;if(v)return v<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)m.push({k:e+r,v:n})}for(m.sort((function(t,e){return e.v-t.v})),r=0;r<m.length;r++)e=m[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:b||!x||!w||!k},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(k)return void 0===t?y(e):y(e,t);var n,r,i=[],l=s(e);for(r=0;r<l;r++)r in e&&g(i,e[r]);for(c(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:u(e)>u(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<l;)delete e[r++];return e}})},3374:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(2005),a=n(463),s=n(2077),u=n(4267),l=n(2757),c=n(592),f=n(8555)("splice"),h=i.TypeError,d=Math.max,p=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,r,i,f,y,g,b=u(this),x=s(b),w=o(t,x),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=x-w):(n=k-2,r=p(d(a(e),0),x-w)),x+n-r>v)throw h(m);for(i=l(b,r),f=0;f<r;f++)(y=w+f)in b&&c(i,f,b[y]);if(i.length=r,n<r){for(f=w;f<x-r;f++)g=f+n,(y=f+r)in b?b[g]=b[y]:delete b[g];for(f=x;f>x-r+n;f--)delete b[f-1]}else if(n>r)for(f=x-r;f>w;f--)g=f+n-1,(y=f+r-1)in b?b[g]=b[y]:delete b[g];for(f=0;f<n;f++)b[f+w]=arguments[f+2];return b.length=x-r+n,i}})},1875:function(t,e,n){var r=n(1301),i=n(5024);r({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},4802:function(t,e,n){var r=n(1301),i=n(4569),o=n(5972),a=n(8505),s=n(5169),u=n(8790),l=i.Array,c=o("JSON","stringify"),f=s(/./.exec),h=s("".charAt),d=s("".charCodeAt),p=s("".replace),v=s(1..toString),m=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,b=function(t,e,n){var r=h(n,e-1),i=h(n,e+1);return f(y,t)&&!f(g,i)||f(g,t)&&!f(y,r)?"\\u"+v(d(t,0),16):t},x=u((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&r({target:"JSON",stat:!0,forced:x},{stringify:function(t,e,n){for(var r=0,i=arguments.length,o=l(i);r<i;r++)o[r]=arguments[r];var s=a(c,null,o);return"string"==typeof s?p(s,m,b):s}})},3837:function(t,e,n){var r=n(4569);n(6482)(r.JSON,"JSON",!0)},8453:function(t,e,n){"use strict";n(943)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(1088))},3397:function(){},9588:function(t,e,n){var r=n(1301),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},2458:function(t,e,n){n(1301)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},8854:function(t,e,n){var r=n(1301),i=n(7911),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},4851:function(t,e,n){n(1301)({target:"Object",stat:!0,sham:!n(41)},{create:n(4045)})},4137:function(t,e,n){var r=n(1301),i=n(41),o=n(6445).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},9817:function(t,e,n){var r=n(1301),i=n(8227).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},6467:function(t,e,n){var r=n(1301),i=n(8790),o=n(7816),a=n(2435).f,s=n(41),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},5465:function(t,e,n){var r=n(1301),i=n(8790),o=n(4267),a=n(6066),s=n(5949);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},4933:function(t,e,n){var r=n(1301),i=n(4267),o=n(2518);r({target:"Object",stat:!0,forced:n(8790)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},6592:function(t,e,n){n(1301)({target:"Object",stat:!0},{setPrototypeOf:n(2370)})},5345:function(){},9891:function(t,e,n){"use strict";var r=n(1301),i=n(5784),o=n(1759),a=n(8532),s=n(9409),u=n(9335);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,l=n.reject,c=s((function(){var n=o(e.resolve),a=[],s=0,l=1;u(t,(function(t){var o=s++,u=!1;l++,i(n,e,t).then((function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--l||r(a))}),(function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--l||r(a))}))})),--l||r(a)}));return c.error&&l(c.value),n.promise}})},1323:function(t,e,n){"use strict";var r=n(1301),i=n(1759),o=n(5972),a=n(5784),s=n(8532),u=n(9409),l=n(9335),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=o("AggregateError"),r=s.f(e),f=r.resolve,h=r.reject,d=u((function(){var r=i(e.resolve),o=[],s=0,u=1,d=!1;l(t,(function(t){var i=s++,l=!1;u++,a(r,e,t).then((function(t){l||d||(d=!0,f(t))}),(function(t){l||d||(l=!0,o[i]=t,--u||h(new n(o,c)))}))})),--u||h(new n(o,c))}));return d.error&&h(d.value),r.promise}})},9393:function(t,e,n){"use strict";var r=n(1301),i=n(1567),o=n(6495),a=n(8790),s=n(5972),u=n(6889),l=n(6723),c=n(513),f=n(1120);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),n=u(t);return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&u(o)){var h=s("Promise").prototype.finally;o.prototype.finally!==h&&f(o.prototype,"finally",h,{unsafe:!0})}},357:function(t,e,n){"use strict";var r,i,o,a,s=n(1301),u=n(1567),l=n(4569),c=n(5972),f=n(5784),h=n(6495),d=n(1120),p=n(4675),v=n(2370),m=n(6482),y=n(6619),g=n(1759),b=n(6889),x=n(9574),w=n(9730),k=n(8304),S=n(9335),E=n(9069),A=n(6723),L=n(912).set,T=n(3853),M=n(513),O=n(9538),P=n(8532),_=n(9409),I=n(8789),C=n(975),j=n(3730),R=n(2735),U=n(283),N=n(478),D=n(6952),z=R("species"),B="Promise",V=C.getterFor(B),F=C.set,H=C.getterFor(B),q=h&&h.prototype,G=h,X=q,Y=l.TypeError,W=l.document,Z=l.process,J=P.f,K=J,$=!!(W&&W.createEvent&&l.dispatchEvent),Q=b(l.PromiseRejectionEvent),tt="unhandledrejection",et=!1,nt=j(B,(function(){var t=k(G),e=t!==String(G);if(!e&&66===D)return!0;if(u&&!X.finally)return!0;if(D>=51&&/native code/.test(t))return!1;var n=new G((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[z]=r,!(et=n.then((function(){}))instanceof r)||!e&&U&&!Q})),rt=nt||!E((function(t){G.all(t).catch((function(){}))})),it=function(t){var e;return!(!x(t)||!b(e=t.then))&&e},ot=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(a||(2===e.rejection&&ct(e),e.rejection=1),!0===s?n=o:(c&&c.enter(),n=s(o),c&&(c.exit(),i=!0)),n===t.promise?l(Y("Promise-chain cycle")):(r=it(n))?f(r,n,u,l):u(n)):l(o)}catch(t){c&&!i&&c.exit(),l(t)}},at=function(t,e){t.notified||(t.notified=!0,T((function(){for(var n,r=t.reactions;n=r.get();)ot(n,t);t.notified=!1,e&&!t.rejection&&ut(t)})))},st=function(t,e,n){var r,i;$?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),l.dispatchEvent(r)):r={promise:e,reason:n},!Q&&(i=l["on"+t])?i(r):t===tt&&O("Unhandled promise rejection",n)},ut=function(t){f(L,l,(function(){var e,n=t.facade,r=t.value;if(lt(t)&&(e=_((function(){N?Z.emit("unhandledRejection",r,n):st(tt,n,r)})),t.rejection=N||lt(t)?2:1,e.error))throw e.value}))},lt=function(t){return 1!==t.rejection&&!t.parent},ct=function(t){f(L,l,(function(){var e=t.facade;N?Z.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},ft=function(t,e,n){return function(r){t(e,r,n)}},ht=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,at(t,!0))},dt=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw Y("Promise can't be resolved itself");var i=it(n);i?T((function(){var r={done:!1};try{f(i,n,ft(t,r,e),ft(ht,r,e))}catch(t){ht(r,t,e)}})):(e.value=n,e.state=1,at(e,!1))}catch(t){ht({done:!1},t,e)}}};if(nt&&(X=(G=function(t){w(this,X),g(t),f(r,this);var e=V(this);try{t(ft(dt,e),ft(ht,e))}catch(t){ht(e,t)}}).prototype,(r=function(t){F(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:void 0})}).prototype=p(X,{then:function(t,e){var n=H(this),r=J(A(this,G));return n.parent=!0,r.ok=!b(t)||t,r.fail=b(e)&&e,r.domain=N?Z.domain:void 0,0==n.state?n.reactions.add(r):T((function(){ot(r,n)})),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=V(t);this.promise=t,this.resolve=ft(dt,e),this.reject=ft(ht,e)},P.f=J=function(t){return t===G||t===o?new i(t):K(t)},!u&&b(h)&&q!==Object.prototype)){a=q.then,et||(d(q,"then",(function(t,e){var n=this;return new G((function(t,e){f(a,n,t,e)})).then(t,e)}),{unsafe:!0}),d(q,"catch",X.catch,{unsafe:!0}));try{delete q.constructor}catch(t){}v&&v(q,X)}s({global:!0,wrap:!0,forced:nt},{Promise:G}),m(G,B,!1,!0),y(B),o=c(B),s({target:B,stat:!0,forced:nt},{reject:function(t){var e=J(this);return f(e.reject,void 0,t),e.promise}}),s({target:B,stat:!0,forced:u||nt},{resolve:function(t){return M(u&&this===o?G:this,t)}}),s({target:B,stat:!0,forced:rt},{all:function(t){var e=this,n=J(e),r=n.resolve,i=n.reject,o=_((function(){var n=g(e.resolve),o=[],a=0,s=1;S(t,(function(t){var u=a++,l=!1;s++,f(n,e,t).then((function(t){l||(l=!0,o[u]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=J(e),r=n.reject,i=_((function(){var i=g(e.resolve);S(t,(function(t){f(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},5801:function(t,e,n){var r=n(1301),i=n(5972),o=n(8505),a=n(5024),s=n(5344),u=n(6879),l=n(9574),c=n(4045),f=n(8790),h=i("Reflect","construct"),d=Object.prototype,p=[].push,v=f((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),m=!f((function(){h((function(){}))})),y=v||m;r({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(t,e){s(t),u(e);var n=arguments.length<3?t:s(arguments[2]);if(m&&!v)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return o(p,r,e),new(o(a,t,r))}var i=n.prototype,f=c(l(i)?i:d),y=o(t,f,e);return l(y)?y:f}})},2879:function(t,e,n){var r=n(1301),i=n(5784),o=n(9574),a=n(6879),s=n(5991),u=n(2435),l=n(6066);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,f=arguments.length<3?e:arguments[2];return a(e)===f?e[n]:(r=u.f(e,n))?s(r)?r.value:void 0===r.get?void 0:i(r.get,f):o(c=l(e))?t(c,n,f):void 0}})},9297:function(){},4046:function(t,e,n){"use strict";n(943)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(1088))},2496:function(t,e,n){"use strict";var r=n(2997).charAt,i=n(3593),o=n(975),a=n(5329),s="String Iterator",u=o.set,l=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},5753:function(t,e,n){"use strict";var r=n(1301),i=n(9394).trim;r({target:"String",proto:!0,forced:n(2640)("trim")},{trim:function(){return i(this)}})},1160:function(t,e,n){n(7025)("asyncIterator")},3902:function(){},8353:function(t,e,n){n(7025)("hasInstance")},8186:function(t,e,n){n(7025)("isConcatSpreadable")},7059:function(t,e,n){n(7025)("iterator")},6713:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(5972),a=n(8505),s=n(5784),u=n(5169),l=n(1567),c=n(41),f=n(7873),h=n(8790),d=n(4037),p=n(8984),v=n(6889),m=n(9574),y=n(397),g=n(3608),b=n(6879),x=n(4267),w=n(7816),k=n(4773),S=n(3593),E=n(3196),A=n(4045),L=n(2518),T=n(9792),M=n(3720),O=n(8440),P=n(2435),_=n(6445),I=n(931),C=n(665),j=n(2599),R=n(1120),U=n(7450),N=n(3674),D=n(5583),z=n(158),B=n(2735),V=n(7905),F=n(7025),H=n(6482),q=n(975),G=n(4496).forEach,X=N("hidden"),Y="Symbol",W=B("toPrimitive"),Z=q.set,J=q.getterFor(Y),K=Object.prototype,$=i.Symbol,Q=$&&$.prototype,tt=i.TypeError,et=i.QObject,nt=o("JSON","stringify"),rt=P.f,it=_.f,ot=M.f,at=C.f,st=u([].push),ut=U("symbols"),lt=U("op-symbols"),ct=U("string-to-symbol-registry"),ft=U("symbol-to-string-registry"),ht=U("wks"),dt=!et||!et.prototype||!et.prototype.findChild,pt=c&&h((function(){return 7!=A(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=rt(K,e);r&&delete K[e],it(t,e,n),r&&t!==K&&it(K,e,r)}:it,vt=function(t,e){var n=ut[t]=A(Q);return Z(n,{type:Y,tag:t,description:e}),c||(n.description=e),n},mt=function(t,e,n){t===K&&mt(lt,e,n),b(t);var r=k(e);return b(n),d(ut,r)?(n.enumerable?(d(t,X)&&t[X][r]&&(t[X][r]=!1),n=A(n,{enumerable:E(0,!1)})):(d(t,X)||it(t,X,E(1,{})),t[X][r]=!0),pt(t,r,n)):it(t,r,n)},yt=function(t,e){b(t);var n=w(e),r=L(n).concat(wt(n));return G(r,(function(e){c&&!s(gt,n,e)||mt(t,e,n[e])})),t},gt=function(t){var e=k(t),n=s(at,this,e);return!(this===K&&d(ut,e)&&!d(lt,e))&&(!(n||!d(this,e)||!d(ut,e)||d(this,X)&&this[X][e])||n)},bt=function(t,e){var n=w(t),r=k(e);if(n!==K||!d(ut,r)||d(lt,r)){var i=rt(n,r);return!i||!d(ut,r)||d(n,X)&&n[X][r]||(i.enumerable=!0),i}},xt=function(t){var e=ot(w(t)),n=[];return G(e,(function(t){d(ut,t)||d(D,t)||st(n,t)})),n},wt=function(t){var e=t===K,n=ot(e?lt:w(t)),r=[];return G(n,(function(t){!d(ut,t)||e&&!d(K,t)||st(r,ut[t])})),r};(f||(R(Q=($=function(){if(y(Q,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=z(t),n=function t(n){this===K&&s(t,lt,n),d(this,X)&&d(this[X],e)&&(this[X][e]=!1),pt(this,e,E(1,n))};return c&&dt&&pt(K,e,{configurable:!0,set:n}),vt(e,t)}).prototype,"toString",(function(){return J(this).tag})),R($,"withoutSetter",(function(t){return vt(z(t),t)})),C.f=gt,_.f=mt,I.f=yt,P.f=bt,T.f=M.f=xt,O.f=wt,V.f=function(t){return vt(B(t),t)},c&&(it(Q,"description",{configurable:!0,get:function(){return J(this).description}}),l||R(K,"propertyIsEnumerable",gt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:$}),G(L(ht),(function(t){F(t)})),r({target:Y,stat:!0,forced:!f},{for:function(t){var e=S(t);if(d(ct,e))return ct[e];var n=$(e);return ct[e]=n,ft[n]=e,n},keyFor:function(t){if(!g(t))throw tt(t+" is not a symbol");if(d(ft,t))return ft[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),r({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(t,e){return void 0===e?A(t):yt(A(t),e)},defineProperty:mt,defineProperties:yt,getOwnPropertyDescriptor:bt}),r({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:xt,getOwnPropertySymbols:wt}),r({target:"Object",stat:!0,forced:h((function(){O.f(1)}))},{getOwnPropertySymbols:function(t){return O.f(x(t))}}),nt)&&r({target:"JSON",stat:!0,forced:!f||h((function(){var t=$();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}))},{stringify:function(t,e,n){var r=j(arguments),i=e;if((m(e)||void 0!==t)&&!g(t))return p(e)||(e=function(t,e){if(v(i)&&(e=s(i,this,t,e)),!g(e))return e}),r[1]=e,a(nt,null,r)}});if(!Q[W]){var kt=Q.valueOf;R(Q,W,(function(t){return s(kt,this)}))}H($,Y),D[X]=!0},8578:function(t,e,n){n(7025)("matchAll")},6398:function(t,e,n){n(7025)("match")},3318:function(t,e,n){n(7025)("replace")},9544:function(t,e,n){n(7025)("search")},2125:function(t,e,n){n(7025)("species")},6121:function(t,e,n){n(7025)("split")},7223:function(t,e,n){n(7025)("toPrimitive")},5737:function(t,e,n){n(7025)("toStringTag")},5948:function(t,e,n){n(7025)("unscopables")},4024:function(t,e,n){n(4233)},3279:function(t,e,n){"use strict";n(1301)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:n(7424)})},1189:function(t,e,n){"use strict";n(1301)({target:"Map",proto:!0,real:!0,forced:!0},{emplace:n(9874)})},8180:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(490),a=n(2447),s=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=i(this),n=a(e),r=o(t,arguments.length>1?arguments[1]:void 0);return!s(n,(function(t,n,i){if(!r(n,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1121:function(t,e,n){"use strict";var r=n(1301),i=n(5972),o=n(490),a=n(5784),s=n(1759),u=n(6879),l=n(6723),c=n(2447),f=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=u(this),n=c(e),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(l(e,i("Map"))),d=s(h.set);return f(n,(function(t,n){r(n,t,e)&&a(d,h,t,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},5336:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(490),a=n(2447),s=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=i(this),n=a(e),r=o(t,arguments.length>1?arguments[1]:void 0);return s(n,(function(t,n,i){if(r(n,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},7879:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(490),a=n(2447),s=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=i(this),n=a(e),r=o(t,arguments.length>1?arguments[1]:void 0);return s(n,(function(t,n,i){if(r(n,t,e))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},7009:function(t,e,n){n(1301)({target:"Map",stat:!0,forced:!0},{from:n(4719)})},5677:function(t,e,n){"use strict";var r=n(1301),i=n(5784),o=n(5169),a=n(1759),s=n(7829),u=n(9335),l=o([].push);r({target:"Map",stat:!0,forced:!0},{groupBy:function(t,e){a(e);var n=s(t),r=new this,o=a(r.has),c=a(r.get),f=a(r.set);return u(n,(function(t){var n=e(t);i(o,r,n)?l(i(c,r,n),t):i(f,r,n,[t])}),{IS_ITERATOR:!0}),r}})},3285:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(2447),a=n(4723),s=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return s(o(i(this)),(function(e,n,r){if(a(n,t))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},6272:function(t,e,n){"use strict";var r=n(1301),i=n(5784),o=n(9335),a=n(1759);r({target:"Map",stat:!0,forced:!0},{keyBy:function(t,e){var n=new this;a(e);var r=a(n.set);return o(t,(function(t){i(r,n,e(t),t)})),n}})},2647:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(2447),a=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){return a(o(i(this)),(function(e,n,r){if(n===t)return r(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},8796:function(t,e,n){"use strict";var r=n(1301),i=n(5972),o=n(490),a=n(5784),s=n(1759),u=n(6879),l=n(6723),c=n(2447),f=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=u(this),n=c(e),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(l(e,i("Map"))),d=s(h.set);return f(n,(function(t,n){a(d,h,r(n,t,e),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},6857:function(t,e,n){"use strict";var r=n(1301),i=n(5972),o=n(490),a=n(5784),s=n(1759),u=n(6879),l=n(6723),c=n(2447),f=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=u(this),n=c(e),r=o(t,arguments.length>1?arguments[1]:void 0),h=new(l(e,i("Map"))),d=s(h.set);return f(n,(function(t,n){a(d,h,t,r(n,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),h}})},2645:function(t,e,n){"use strict";var r=n(1301),i=n(1759),o=n(6879),a=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{merge:function(t){for(var e=o(this),n=i(e.set),r=arguments.length,s=0;s<r;)a(arguments[s++],n,{that:e,AS_ENTRIES:!0});return e}})},8104:function(t,e,n){n(1301)({target:"Map",stat:!0,forced:!0},{of:n(7743)})},9639:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(6879),a=n(1759),s=n(2447),u=n(9335),l=i.TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),n=s(e),r=arguments.length<2,i=r?void 0:arguments[1];if(a(t),u(n,(function(n,o){r?(r=!1,i=o):i=t(i,o,n,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw l("Reduce of empty map with no initial value");return i}})},3357:function(t,e,n){"use strict";var r=n(1301),i=n(6879),o=n(490),a=n(2447),s=n(9335);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=i(this),n=a(e),r=o(t,arguments.length>1?arguments[1]:void 0);return s(n,(function(t,n,i){if(r(n,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},671:function(t,e,n){"use strict";n(1301)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:n(3268)})},5653:function(t,e,n){"use strict";var r=n(1301),i=n(4569),o=n(5784),a=n(6879),s=n(1759),u=i.TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var n=a(this),r=s(n.get),i=s(n.has),l=s(n.set),c=arguments.length;s(e);var f=o(i,n,t);if(!f&&c<3)throw u("Updating absent value");var h=f?o(r,n,t):s(c>2?arguments[2]:void 0)(t,n);return o(l,n,t,e(h,t,n)),n}})},4694:function(t,e,n){"use strict";n(1301)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:n(3268)})},9389:function(t,e,n){n(9891)},9975:function(t,e,n){n(1323)},1898:function(t,e,n){"use strict";var r=n(1301),i=n(8532),o=n(9409);r({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},1634:function(t,e,n){n(7025)("asyncDispose")},8251:function(t,e,n){n(7025)("dispose")},4461:function(t,e,n){n(7025)("matcher")},1482:function(t,e,n){n(7025)("metadata")},5777:function(t,e,n){n(7025)("observable")},9181:function(t,e,n){n(7025)("patternMatch")},8472:function(t,e,n){n(7025)("replaceAll")},1782:function(t,e,n){n(598);var r=n(4317),i=n(4569),o=n(5885),a=n(8444),s=n(8830),u=n(2735)("toStringTag");for(var l in r){var c=i[l],f=c&&c.prototype;f&&o(f)!==u&&a(f,u,l),s[l]=s.Array}},964:function(t,e,n){"use strict";n(598);var r=n(1301),i=n(4569),o=n(5972),a=n(5784),s=n(5169),u=n(8437),l=n(1120),c=n(4675),f=n(6482),h=n(6745),d=n(975),p=n(9730),v=n(6889),m=n(4037),y=n(490),g=n(5885),b=n(6879),x=n(9574),w=n(3593),k=n(4045),S=n(3196),E=n(7829),A=n(1520),L=n(1359),T=n(2735),M=n(4936),O=T("iterator"),P="URLSearchParams",_="URLSearchParamsIterator",I=d.set,C=d.getterFor(P),j=d.getterFor(_),R=o("fetch"),U=o("Request"),N=o("Headers"),D=U&&U.prototype,z=N&&N.prototype,B=i.RegExp,V=i.TypeError,F=i.decodeURIComponent,H=i.encodeURIComponent,q=s("".charAt),G=s([].join),X=s([].push),Y=s("".replace),W=s([].shift),Z=s([].splice),J=s("".split),K=s("".slice),$=/\+/g,Q=Array(4),tt=function(t){return Q[t-1]||(Q[t-1]=B("((?:%[\\da-f]{2}){"+t+"})","gi"))},et=function(t){try{return F(t)}catch(e){return t}},nt=function(t){var e=Y(t,$," "),n=4;try{return F(e)}catch(t){for(;n;)e=Y(e,tt(n--),et);return e}},rt=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ot=function(t){return it[t]},at=function(t){return Y(H(t),rt,ot)},st=h((function(t,e){I(this,{type:_,iterator:E(C(t).entries),kind:e})}),"Iterator",(function(){var t=j(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(x(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===q(t,0)?K(t,1):t:w(t)))};ut.prototype={type:P,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,i,o,s,u,l=A(t);if(l)for(n=(e=E(t,l)).next;!(r=a(n,e)).done;){if(o=(i=E(b(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw V("Expected sequence with length 2");X(this.entries,{key:w(s.value),value:w(u.value)})}else for(var c in t)m(t,c)&&X(this.entries,{key:c,value:w(t[c])})},parseQuery:function(t){if(t)for(var e,n,r=J(t,"&"),i=0;i<r.length;)(e=r[i++]).length&&(n=J(e,"="),X(this.entries,{key:nt(W(n)),value:nt(G(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],X(n,at(t.key)+"="+at(t.value));return G(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){p(this,ct);var t=arguments.length>0?arguments[0]:void 0;I(this,new ut(t))},ct=lt.prototype;if(c(ct,{append:function(t,e){L(arguments.length,2);var n=C(this);X(n.entries,{key:w(t),value:w(e)}),n.updateURL()},delete:function(t){L(arguments.length,1);for(var e=C(this),n=e.entries,r=w(t),i=0;i<n.length;)n[i].key===r?Z(n,i,1):i++;e.updateURL()},get:function(t){L(arguments.length,1);for(var e=C(this).entries,n=w(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){L(arguments.length,1);for(var e=C(this).entries,n=w(t),r=[],i=0;i<e.length;i++)e[i].key===n&&X(r,e[i].value);return r},has:function(t){L(arguments.length,1);for(var e=C(this).entries,n=w(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){L(arguments.length,1);for(var n,r=C(this),i=r.entries,o=!1,a=w(t),s=w(e),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?Z(i,u--,1):(o=!0,n.value=s));o||X(i,{key:a,value:s}),r.updateURL()},sort:function(){var t=C(this);M(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=C(this).entries,r=y(t,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),l(ct,O,ct.entries,{name:"entries"}),l(ct,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),f(lt,P),r({global:!0,forced:!u},{URLSearchParams:lt}),!u&&v(N)){var ft=s(z.has),ht=s(z.set),dt=function(t){if(x(t)){var e,n=t.body;if(g(n)===P)return e=t.headers?new N(t.headers):new N,ft(e,"content-type")||ht(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(t,{body:S(0,w(n)),headers:S(0,e)})}return t};if(v(R)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return R(t,arguments.length>1?dt(arguments[1]):{})}}),v(U)){var pt=function(t){return p(this,D),new U(t,arguments.length>1?dt(arguments[1]):{})};D.constructor=pt,pt.prototype=D,r({global:!0,forced:!0},{Request:pt})}}t.exports={URLSearchParams:lt,getState:C}},3241:function(t,e,n){var r=n(9831);t.exports=r},3579:function(t,e,n){var r=n(8187);t.exports=r},8536:function(t,e,n){var r=n(6261);t.exports=r},8801:function(t,e,n){var r=n(4341);n(1782),t.exports=r},3399:function(t,e,n){var r=n(3249);t.exports=r},7605:function(t,e,n){var r=n(2079);t.exports=r},8687:function(t,e,n){var r=n(2258);t.exports=r},6127:function(t,e,n){var r=n(5294);t.exports=r},6894:function(t,e,n){n(1782);var r=n(5885),i=n(4037),o=n(397),a=n(8536),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===s||o(s,t)&&e===s.forEach||i(u,r(t))?a:e}},6553:function(t,e,n){var r=n(7076);t.exports=r},1830:function(t,e,n){var r=n(3692);t.exports=r},5162:function(t,e,n){var r=n(9878);t.exports=r},6845:function(t,e,n){var r=n(4485);t.exports=r},9886:function(t,e,n){var r=n(633);t.exports=r},2939:function(t,e,n){var r=n(3095);t.exports=r},4205:function(t,e,n){var r=n(1599);t.exports=r},7772:function(t,e,n){var r=n(3658);t.exports=r},8044:function(t,e,n){var r=n(1523);n(1782),t.exports=r},4396:function(t,e,n){var r=n(9490);t.exports=r},4242:function(t,e,n){var r=n(7854);t.exports=r},6841:function(t,e,n){var r=n(2852);t.exports=r},5022:function(t,e,n){var r=n(3192);t.exports=r},1997:function(t,e,n){var r=n(2807);t.exports=r},9990:function(t,e,n){var r=n(4180);t.exports=r},8430:function(t,e,n){var r=n(9739);t.exports=r},1092:function(t,e,n){var r=n(5759);t.exports=r},4682:function(t,e,n){var r=n(5553);t.exports=r},3194:function(t,e,n){var r=n(7866);t.exports=r},5227:function(t,e,n){var r=n(7647);n(1782),t.exports=r},2556:function(t,e,n){var r=n(700);t.exports=r},1024:function(t,e,n){var r=n(836);t.exports=r},1209:function(t,e,n){var r=n(5293);n(1782),t.exports=r},1483:function(t,e,n){var r=n(9211);n(1782),t.exports=r},4809:function(t,e,n){var r=n(9647);n(1782),t.exports=r},2162:function(t,e,n){var r=n(1228);n(1782),t.exports=r},1228:function(t,e,n){n(964);var r=n(6035);t.exports=r.URLSearchParams},5341:function(t,e,n){t.exports=n(3241)},6155:function(t,e,n){t.exports=n(7605)},942:function(t,e,n){t.exports=n(8687)},135:function(t,e,n){t.exports=n(6127)},5600:function(t,e,n){t.exports=n(1830)},2692:function(t,e,n){t.exports=n(6845)},2290:function(t,e,n){t.exports=n(9886)},7206:function(t,e,n){t.exports=n(2939)},1462:function(t,e,n){t.exports=n(4205)},7519:function(t,e,n){t.exports=n(7772)},728:function(t,e,n){t.exports=n(4396)},7977:function(t,e,n){t.exports=n(4242)},7224:function(t,e,n){t.exports=n(6841)},7903:function(t,e,n){t.exports=n(9990)},6581:function(t,e,n){t.exports=n(8430)},7550:function(t,e,n){t.exports=n(4682)},4478:function(t,e,n){t.exports=n(5227)},6402:function(t,e,n){t.exports=n(2556)},9746:function(t,e,n){t.exports=n(1209)},8119:function(t,e,n){t.exports=n(1483)},293:function(t,e,n){t.exports=n(2162)},2567:function(t,e,n){t.exports=n(1665)},3072:function(t,e,n){t.exports=n(8173)},9514:function(t,e,n){t.exports=n(263)},8860:function(t,e,n){t.exports=n(6017)},1178:function(t,e,n){t.exports=n(2512)},187:function(t,e,n){t.exports=n(8945)},7233:function(t,e,n){t.exports=n(3598)},6834:function(t,e,n){t.exports=n(830)},1605:function(t,e,n){t.exports=n(8993)},2668:function(t,e,n){t.exports=n(688)},451:function(t,e,n){t.exports=n(1422)},140:function(t,e,n){t.exports=n(9259)},9371:function(t,e,n){t.exports=n(8327)},6922:function(t,e,n){t.exports=n(6438)},7929:function(t,e,n){t.exports=n(5365)},9399:function(t,e,n){t.exports=n(4338)},3928:function(t,e,n){t.exports=n(2538)},5401:function(t,e,n){t.exports=n(499)},4929:function(t,e,n){t.exports=n(488)},7338:function(t,e,n){var r=n(4395).default,i=n(5401),o=n(451),a=n(2668),s=n(9371),u=n(1178),l=n(6922),c=n(7929),f=n(7233),h=n(6834);function d(){"use strict";t.exports=d=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,p=n.hasOwnProperty,v="function"==typeof i?i:{},m=v.iterator||"@@iterator",y=v.asyncIterator||"@@asyncIterator",g=v.toStringTag||"@@toStringTag";function b(t,e,n){return o(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{b({},"")}catch(t){b=function(t,e,n){return t[e]=n}}function x(t,e,n,r){var i=e&&e.prototype instanceof S?e:S,o=a(i.prototype),s=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return U()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===k)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=w(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===k)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=x;var k={};function S(){}function E(){}function A(){}var L={};b(L,m,(function(){return this}));var T=s&&s(s(R([])));T&&T!==n&&p.call(T,m)&&(L=T);var M=A.prototype=S.prototype=a(L);function O(t){var e;u(e=["next","throw","return"]).call(e,(function(e){b(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(i,o,a,s){var u=w(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==r(c)&&p.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=w(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,k;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,k):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],u(t).call(t,I,this),this.reset(!0)}function R(t){if(t){var e=t[m];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(p.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:U}}function U(){return{value:void 0,done:!0}}return E.prototype=A,b(M,"constructor",A),b(A,"constructor",E),E.displayName=b(A,g,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return l?l(t,A):(t.__proto__=A,b(t,g,"GeneratorFunction")),t.prototype=a(M),t},e.awrap=function(t){return{__await:t}},O(P.prototype),b(P.prototype,y,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,i,o){void 0===o&&(o=c);var a=new P(x(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(M),b(M,g,"Generator"),b(M,m,(function(){return this})),b(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return f(e).call(e),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,j.prototype={constructor:j,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,u(e=this.tryEntries).call(e,C),!t)for(var n in this)"t"===n.charAt(0)&&p.call(this,n)&&!isNaN(+h(n).call(n,1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=p.call(i,"catchLoc"),s=p.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),k}},e}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports},4395:function(t,e,n){var r=n(5401),i=n(4929);function o(e){return t.exports=o="function"==typeof r&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},8986:function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(7338)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return n[t].call(o.exports,o,o.exports,i),o.exports}i.m=n,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))},i.u=function(t){return t+".bundle.js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="ulogger-server:",i.l=function(n,r,o,a){if(t[n])t[n].push(r);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==e+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[r];var h=function(e,r){s.onerror=s.onload=null,clearTimeout(d);var i=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="js/dist/",function(){var t={179:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,n){var r,o,a=n[0],s=n[1],u=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(u)u(i)}for(e&&e(n);l<a.length;l++)o=a[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkulogger_server=self.webpackChunkulogger_server||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";var t=i(4478),e=i.n(t),n=i(6155),r=i.n(n);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=i(451);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),a(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),a(t,"prototype",{writable:!1}),t}var l=i(2692),c=i.n(l),f=i(5341),h=i.n(f),d=i(8119),p=i.n(d),v=i(9514),m=i.n(v),y=i(5401),g=i(4929);function b(t){return(b="function"==typeof y&&"symbol"==typeof g?function(t){return typeof t}:function(t){return t&&"function"==typeof y&&t.constructor===y&&t!==y.prototype?"symbol":typeof t})(t)}var x=i(293),w=i.n(x),k=i(7519),S=i.n(k);function E(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return A(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L=function(){function t(){o(this,t)}return u(t,null,[{key:"post",value:function(t,e,n){var r=n||{};return r.method="POST",this.ajax(t,e,r)}},{key:"get",value:function(t,e,n){var r=n||{};return r.method="GET",this.ajax(t,e,r)}},{key:"ajax",value:function(t,n,i){var o=this,a=[];n=n||{};var s=(i=i||{}).method||"GET",u=new XMLHttpRequest;return new(e())((function(e,i){var l;if(u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE){var t="",n=!0;if(200===u.status)try{var r=JSON.parse(u.responseText);r&&(r.error?r.message&&(t=r.message):(e&&"function"==typeof e&&e(r),n=!1))}catch(e){t=e.message}else t="HTTP error ".concat(u.status);n&&i&&"function"==typeof i&&i(new Error(t))}},n instanceof HTMLFormElement&&(n=new FormData(n)),n instanceof FormData)l="POST"===s?n:new(w())(n).toString();else{for(var c in n)if(n.hasOwnProperty(c))if(Array.isArray(n[c])){var f,h=E(n[c]);try{for(h.s();!(f=h.n()).done;){var d,p=f.value;a.push(r()(d="".concat(c,"[]=")).call(d,o.encodeValue(p)))}}catch(t){h.e(t)}finally{h.f()}}else{var v;a.push(r()(v="".concat(c,"=")).call(v,o.encodeValue(n[c])))}l=(l=a.join("&")).replace(/%20/g,"+")}"GET"===s&&l.length&&(t+="?".concat(l),l=null),u.open(s,t,!0),"POST"!==s||n instanceof FormData||u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.send(l)}))}},{key:"encodeValue",value:function(t){return"object"===b(t)&&(t=S()(t)),encodeURIComponent(t)}}]),t}(),T=i(6402),M=i.n(T),O=i(2668),P=i(6922),_=i(8860);function I(t,e){var n;return(I=P?_(n=P).call(n):function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=O(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),a(t,"prototype",{writable:!1}),e&&I(t,e)}function j(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var R=i(9371);function U(t){var e;return(U=P?_(e=R).call(e):function(t){return t.__proto__||R(t)})(t)}var N=i(7224),D=i.n(N),z=i(3072);function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var V=i(2567);var F=i(6834);function H(t,e){var n;if(t){if("string"==typeof t)return B(t,e);var r=F(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?V(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}function q(t){return function(t){if(z(t))return B(t)}(t)||function(t){if(void 0!==y&&null!=v(t)||null!=t["@@iterator"])return V(t)}(t)||H(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=i(135),X=i.n(G),Y=i(7929);function W(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Y.resolve(u).then(r,i)}var Z=i(9746),J=i.n(Z),K=i(6581),$=i.n(K),Q=i(8986),tt=i.n(Q);function et(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return nt(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rt=function(){function t(){o(this,t)}return u(t,null,[{key:"observe",value:function(t,e,n){if("object"!==b(t)||null===t)throw new Error("Invalid argument: invalid object");if("function"==typeof n)this.observeProperty(t,e,n);else{if("function"!=typeof e)throw new Error("Invalid argument for observe");this.observeRecursive(t,e)}}},{key:"notify",value:function(t,e){var n,r=et(t);try{var i=function(){var t,r=n.value;(t=tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Y((function(r,i){var o=t.apply(e,n);function a(t){W(o,r,i,a,s,"next",t)}function s(t){W(o,r,i,a,s,"throw",t)}a(void 0)}))})()};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}},{key:"forceUpdate",value:function(t,e){var n=t._values[e],r=t._observers[e];this.notify(r,n)}},{key:"isObserved",value:function(t,e,n){if("object"!==b(t)||null===t||!t.hasOwnProperty(e))return!1;var r=!!(t._observers&&t._observers[e]&&t._observers[e].size>0);return r&&n?t._observers[e].has(n):r}},{key:"setSilently",value:function(t,e,n){if(!t.hasOwnProperty(e))throw new Error('Invalid argument: object does not have property "'.concat(e,'"'));if(this.isObserved(t,e)){if(t._values[e]=n,Array.isArray(t[e])){var r,i=et(t._observers[e]);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.observeArray(t[e],o)}}catch(t){i.e(t)}finally{i.f()}}}else t[e]=n}},{key:"observeProperty",value:function(e,n,i){var o=this;if(!e.hasOwnProperty(n))throw new Error('Invalid argument: object does not have property "'.concat(n,'"'));if(this.isObserved(e,n,i))throw new Error("Observer already registered for property ".concat(n));this.addObserver(e,i,n),e.hasOwnProperty("_values")||Object.defineProperty(e,"_values",{enumerable:!1,configurable:!1,value:{}}),e._values[n]=e[n],Object.defineProperty(e,n,{get:function(){return e._values[n]},set:function(i){var a;e._values[n]!==i&&(e._values[n]=i,"".concat(n," = "),Array.isArray(i)&&i.length&&r()(a="[".concat(i[0],", ](")).call(a,i.length,")"),t.notify(e._observers[n],i));Array.isArray(e[n])&&o.observeArray(e[n],e._observers[n])}}),Array.isArray(e[n])&&this.observeArray(e[n],i)}},{key:"observeRecursive",value:function(e,n){if(Array.isArray(e))this.observeArray(e,n);else for(var r in e)e.hasOwnProperty(r)&&t.observeProperty(e,r,n)}},{key:"observeArray",value:function(t,e){if(e instanceof J()){var n,r=et(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addObserver(t,i)}}catch(t){r.e(t)}finally{r.f()}}else this.addObserver(t,e);this.overrideArrayPrototypes(t,arguments)}},{key:"addObserver",value:function(t,e,n){t.hasOwnProperty("_observers")||Object.defineProperty(t,"_observers",{enumerable:!1,configurable:!1,value:3===arguments.length?[]:new(J())}),3===arguments.length?(t._observers[n]||(t._observers[n]=new(J())),t._observers[n].add(e)):t._observers.add(e)}},{key:"unobserve",value:function(t,e,n){if("function"==typeof n)this.unobserveProperty(t,e,n);else{if("function"!=typeof e)throw new Error("Invalid argument for unobserve");Array.isArray(t)?this.unobserveArray(t,e):this.unobserveRecursive(t,e)}}},{key:"unobserveAll",value:function(t,e){if(1===arguments.length)for(var n in t)t.hasOwnProperty(n)&&this.unobserveAll(t,n);else if(this.isObserved(t,e)){if("Removing all observers for ".concat(e,""),Array.isArray(t[e]))this.restoreArrayPrototypes(t[e]);else if("object"===b(t[e])&&null!==t[e])for(var r in t[e])t[e].hasOwnProperty(r)&&this.unobserveAll(t[e],r);delete t._observers[e],delete t[e],t[e]=t._values[e],delete t._values[e]}}},{key:"unobserveProperty",value:function(t,e,n){Array.isArray(t[e])&&this.unobserveArray(t[e],n),this.removeObserver(t,n,e),t._observers[e].size||(delete t[e],t[e]=t._values[e],delete t._values[e])}},{key:"unobserveRecursive",value:function(e,n){for(var r in e)e.hasOwnProperty(r)&&t.unobserveProperty(e,r,n)}},{key:"unobserveArray",value:function(t,e){this.removeObserver(t,e),t._observers.size||this.restoreArrayPrototypes(t)}},{key:"overrideArrayPrototypes",value:function(e){["pop","push","reverse","shift","sort","splice","unshift"].forEach((function(n){var i=$()(Array.prototype,n);e.hasOwnProperty(n)||(i.value=function(){var i,o=Array.prototype[n].apply(e,arguments);return"[".concat(n,"] "),e.length&&r()(i="[".concat(e[0],", ](")).call(i,e.length,")"),t.notify(e._observers,e),o},Object.defineProperty(e,n,i))}))}},{key:"restoreArrayPrototypes",value:function(t){["pop","push","reverse","shift","sort","splice","unshift"].forEach((function(e){delete t[e]}))}},{key:"removeObserver",value:function(t,e,n){if(t.hasOwnProperty("_observers")){var r;if(3===arguments.length){if(!t._observers[n])return;r=t._observers[n],"Removing observer for ".concat(n,"")}else r=t._observers;r.forEach((function(t){t===e&&r.delete(t)}))}}}]),t}();function it(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ot(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var at=function(){function t(e,n,r){if(o(this,t),!(e instanceof HTMLSelectElement))throw new Error("Invalid argument for select");this.element=e,this.hasAllOption=!1,this.allText="",r&&r.length&&(this.allText=r),n&&n.length?this.head=n:(this.hasHead=!1,this.headText="")}return u(t,[{key:"selected",get:function(){return this.element.value},set:function(t){this.hasValue(t)&&(this.element.value=t)}},{key:"head",get:function(){return this.headText},set:function(t){t.length&&(this.hasHead=!0,this.headText=t,this.addHead())}},{key:"showAllOption",value:function(e){e&&(this.allText=e),this.hasAllOption=!0;var n=this.hasHead?1:0;this.element.add(new Option(this.allText,t.allValue),n)}},{key:"hideAllOption",value:function(){var e=this.selected===t.allValue;this.hasAllOption=!1,this.remove(t.allValue),e&&(this.selected=this.hasHead?t.headValue:"",this.element.dispatchEvent(new Event("change")))}},{key:"addHead",value:function(){var e=new Option(this.headText,t.headValue,!0,!0);e.disabled=!0,this.element.options.add(e,0)}},{key:"hasValue",value:function(t){return void 0!==this.getOption(t)}},{key:"getOption",value:function(t){var e;return X()(e=q(this.element.options)).call(e,(function(e){return e.value===t}))}},{key:"remove",value:function(t){var e=this.getOption(t);e&&this.element.remove(e.index)}},{key:"setOptions",value:function(e,n){var r=this;n=n||this.element.value,this.element.options.length=0,this.hasHead&&this.addHead(),this.hasAllOption&&this.element.add(new Option(this.allText,t.allValue,!1,n===t.allValue));var i,o=it(e);try{var a=function(){var t=i.value,e=new Option(t.listText,t.listValue,!1,n===t.listValue);r.element.add(e),rt.observe(t,"listText",(function(t){e.text=t}))};for(o.s();!(i=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}}}],[{key:"allValue",get:function(){return"all"}},{key:"headValue",get:function(){return"0"}}]),t}(),st=function(){function t(){o(this,t),this.listValue=at.allValue,this.listText="-"}return u(t,[{key:"listItem",value:function(t,e){this.listValue=String(t),this.listText=String(e)}},{key:"toString",value:function(){var t;return r()(t="[".concat(this.listValue,", ")).call(t,this.listText,"]")}}]),t}(),ut=i(3928),lt=i(140);function ct(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}function ft(){var t;"undefined"!=typeof Reflect&&ut?ft=_(t=ut).call(t):ft=function(t,e,n){var r=ct(t,e);if(r){var i=lt(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}};return ft.apply(this,arguments)}var ht=i(5600),dt=i.n(ht),pt=i(1462),vt=i.n(pt),mt=i(7550),yt=i.n(mt),gt=function(){function t(){o(this,t)}return u(t,null,[{key:"setCookie",value:function(t,e){var n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a="";if(o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),a="; expires=".concat(s.toUTCString())}document.cookie=r()(n=r()(i="ulogger_".concat(t,"=")).call(i,e)).call(n,a,"; path=/; samesite=lax")}},{key:"sprintf",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=0,a=t.replace(/%%|%s|%d/g,(function(t){if("%%"===t)return"%";var e;if("%d"===t&&isNaN(n[o])&&void 0!==n[o])throw new Error(r()(e="Wrong format specifier ".concat(t," for ")).call(e,n[o]," argument"));if(void 0===n[o])throw new Error("Missing argument for format specifier ".concat(t));return n[o++]}));if(o<n.length)throw new Error("Unused argument for format specifier ".concat(t));return a}},{key:"addScript",value:function(t,e,n,r){if(e&&document.getElementById(e))n instanceof Function&&n();else{var i=document.createElement("script");i.type="text/javascript",i.src=t,e&&(i.id=e),i.async=!0,n instanceof Function&&(i.onload=n),r instanceof Function&&(i.onerror=function(){return r(new Error("error loading ".concat(e," script")))}),document.getElementsByTagName("head")[0].appendChild(i)}}},{key:"loadScript",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,o=new(e())((function(e,i){return t.addScript(n,r,e,i)})),a=this.timeoutPromise(i);return e().race([o,a])}},{key:"timeoutPromise",value:function(t){return new(e())((function(e,n){var r=setTimeout((function(){clearTimeout(r),n(new Error("timeout (".concat(t," ms).")))}),t)}))}},{key:"htmlEncode",value:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{key:"hexToRGBA",value:function(t,e){var n,i;return e=void 0!==e?e:1,"rgba(".concat(r()(n=dt()(i=(t=t.replace("#","")).match(new RegExp("(.{".concat(t.length/3,"})"),"g"))).call(i,(function(e){return parseInt(t.length%2?e+e:e,16)}))).call(n,e).join(","),")")}},{key:"getScaleColor",value:function(t,e,n){var i,o;if(n<0||n>1)throw new Error("Invalid value");for(var a=[],s=0;s<3;s++){if(t[s]<0||t[s]>255||e[s]<0||e[s]>255)throw new Error("Invalid value");a[s]=Math.round((e[s]-t[s])*n+t[s])}return r()(i=r()(o="rgb(".concat(a[0],", ")).call(o,a[1],", ")).call(i,a[2],")")}},{key:"addCss",value:function(t,e){if(!e||!document.getElementById(e)){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e&&(n.id=e),document.getElementsByTagName("head")[0].appendChild(n)}}},{key:"removeElementById",value:function(t){var e=document.getElementById(t);e&&e.remove()}},{key:"nodeFromHtml",value:function(t){var e=document.createElement("template");return e.innerHTML=vt()(t).call(t),e.content.childNodes.length>1?e.content.childNodes:e.content.firstChild}},{key:"getFloat",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"float")}},{key:"getInteger",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"int")}},{key:"getString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"string")}},{key:"getParsed",value:function(t,e,n){if(e&&null===t)return null;var r;switch(n){case"float":r=parseFloat(t);break;case"int":r=Math.round(parseFloat(t));break;case"string":r=String(t);break;default:throw new Error("Unknown type")}if(null==t||"string"!==n&&isNaN(r))throw new Error("Invalid value");return r}},{key:"getTimeString",value:function(t){var e,n,i,o,a="";return{date:r()(e=r()(n="".concat(t.getFullYear(),"-")).call(n,c()(i="0".concat(t.getMonth()+1)).call(i,-2),"-")).call(e,c()(o="0".concat(t.getDate())).call(o,-2)),time:t.toTimeString().replace(/^\s*([^ ]+)([^(]*)(\([^)]*\))*/,(function(t,e,n,r){return n&&(a=n.replace(/(0(?=[1-9]00))|(00\b)/g,""),r&&/[A-Z]/.test(r)&&(a+=r.match(/\b[A-Z]+/g).join(""))),e})),zone:a}}},{key:"openUrl",value:function(t){window.location.assign(t)}},{key:"deg2rad",value:function(t){return t*Math.PI/180}},{key:"isDeepEqual",value:function(t,e){var n=this;return yt()(t).every((function(r){return"object"===b(t[r])&&null!==t[r]&&"object"===b(e[r])&&null!==e[r]?n.isDeepEqual(t[r],e[r]):t[r]===e[r]}))}}]),t}(),bt=function(){function t(){o(this,t)}return u(t,[{key:"hasComment",value:function(){return null!=this.comment&&this.comment.length>0}},{key:"hasImage",value:function(){return null!=this.image&&this.image.length>0}},{key:"hasSpeed",value:function(){return null!=this.speed}},{key:"hasAltitude",value:function(){return null!=this.altitude}},{key:"getImagePath",value:function(){return this.hasImage()?"uploads/".concat(this.image):null}},{key:"totalSpeed",get:function(){return this.totalSeconds?this.totalMeters/this.totalSeconds:0}},{key:"delete",value:function(){return t.update({action:"delete",posid:this.id})}},{key:"save",value:function(){return t.update({action:"update",posid:this.id,comment:this.comment})}},{key:"imageDelete",value:function(){var e=this;return t.update({action:"imagedel",posid:this.id}).then((function(){e.image=null}))}},{key:"imageAdd",value:function(e){var n=this,r=new FormData;return r.append("image",e),r.append("action","imageadd"),r.append("posid",this.id),t.update(r).then((function(t){n.image=t.image}))}},{key:"distanceTo",value:function(t){var e=gt.deg2rad(this.latitude),n=gt.deg2rad(this.longitude),r=gt.deg2rad(t.latitude),i=r-e,o=gt.deg2rad(t.longitude)-n;return 6371e3*(2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(e)*Math.cos(r)*Math.pow(Math.sin(o/2),2))))}},{key:"secondsTo",value:function(t){return this.timestamp-t.timestamp}}],[{key:"fromJson",value:function(e){var n=new t;return n.id=gt.getInteger(e.id),n.latitude=gt.getFloat(e.latitude),n.longitude=gt.getFloat(e.longitude),n.altitude=gt.getInteger(e.altitude,!0),n.speed=gt.getFloat(e.speed,!0),n.bearing=gt.getInteger(e.bearing,!0),n.accuracy=gt.getInteger(e.accuracy,!0),n.provider=gt.getString(e.provider,!0),n.comment=gt.getString(e.comment,!0),n.image=gt.getString(e.image,!0),n.username=gt.getString(e.username),n.trackname=gt.getString(e.trackname),n.trackid=gt.getInteger(e.trackid),n.timestamp=gt.getInteger(e.timestamp),n.meters=gt.getInteger(e.meters),n.seconds=gt.getInteger(e.seconds),n.totalMeters=0,n.totalSeconds=0,n}},{key:"update",value:function(t){return L.post("utils/handleposition.php",t)}}]),t}();function xt(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return wt(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kt(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var St=function(t){C(n,t);var e=kt(n);function n(){var t;return o(this,n),(t=e.call(this)).positions=[],t}return u(n,[{key:"clear",value:function(){this.positions.length=0}},{key:"length",get:function(){return this.positions.length}},{key:"hasPositions",get:function(){return this.positions.length>0}},{key:"isLastPosition",value:function(t){return!0}},{key:"isFirstPosition",value:function(t){return!0}},{key:"fromJson",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];e?n=this.positions:this.clear();var r,i=xt(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(bt.fromJson(o))}}catch(t){i.e(t)}finally{i.f()}this.positions=n}},{key:"fetchLatest",value:function(){var t=this;return this.clear(),n.fetch({last:!0}).then((function(e){t.fromJson(e)}))}}],[{key:"fetchLatest",value:function(){var t=new n;return t.fetchLatest().then((function(){return t.length?t:null}))}},{key:"fetch",value:function(t){return L.get("utils/getpositions.php",t)}}]),n}(st);function Et(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return At(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lt(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Tt=function(t){C(n,t);var e=Lt(n);function n(t,r,i){var a;if(o(this,n),a=e.call(this),!D()(t)||t<=0||!r||!(i instanceof _t))throw new Error("Invalid argument for track constructor");return a.id=t,a.name=r,a.user=i,a.plotData=[],a.maxId=0,a.maxSpeed=0,a.maxAltitude=null,a.minAltitude=null,a.totalMeters=0,a.totalSeconds=0,a.listItem(t,r),a}return u(n,[{key:"setName",value:function(t){this.name=t,this.listText=t}},{key:"clear",value:function(){ft(U(n.prototype),"clear",this).call(this),this.clearTrackCounters()}},{key:"clearTrackCounters",value:function(){this.maxId=0,this.maxSpeed=0,this.maxAltitude=null,this.minAltitude=null,this.plotData.length=0,this.totalMeters=0,this.totalSeconds=0}},{key:"isEqualTo",value:function(t){return!!t&&t.id===this.id}},{key:"hasPlotData",get:function(){return this.plotData.length>0}},{key:"hasAltitudes",get:function(){return null!==this.maxAltitude}},{key:"hasSpeeds",get:function(){return this.maxSpeed>0}},{key:"fromJson",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];e&&this.hasPositions?n=this.positions:this.clear();var r,i=Et(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=bt.fromJson(o);this.calculatePosition(a),n.push(a)}}catch(t){i.e(t)}finally{i.f()}this.positions=n}},{key:"isLastPosition",value:function(t){return this.length>0&&t===this.length-1}},{key:"isFirstPosition",value:function(t){return this.length>0&&0===t}},{key:"fetchPositions",value:function(){var t=this,e={userid:this.user.id,trackid:this.id};return this.maxId&&(e.afterid=this.maxId),St.fetch(e).then((function(n){t.fromJson(n,e.afterid>0)}))}},{key:"export",value:function(t){if(this.hasPositions){var e,n,i=r()(e=r()(n="utils/export.php?type=".concat(t,"&userid=")).call(n,this.user.id,"&trackid=")).call(e,this.id);gt.openUrl(i)}}},{key:"delete",value:function(){return n.update({action:"delete",trackid:this.id})}},{key:"saveMeta",value:function(){return n.update({action:"update",trackid:this.id,trackname:this.name})}},{key:"recalculatePositions",value:function(){this.clearTrackCounters();var t,e=null,n=Et(this.positions);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.meters=e?r.distanceTo(e):0,r.seconds=e?r.secondsTo(e):0,this.calculatePosition(r),e=r}}catch(t){n.e(t)}finally{n.f()}}},{key:"calculatePosition",value:function(t){this.totalMeters+=t.meters,this.totalSeconds+=t.seconds,t.totalMeters=this.totalMeters,t.totalSeconds=this.totalSeconds,t.hasAltitude()&&(this.plotData.push({x:t.totalMeters,y:t.altitude}),(null===this.maxAltitude||t.altitude>this.maxAltitude)&&(this.maxAltitude=t.altitude),(null===this.minAltitude||t.altitude<this.minAltitude)&&(this.minAltitude=t.altitude)),t.id>this.maxId&&(this.maxId=t.id),t.hasSpeed()&&t.speed>this.maxSpeed&&(this.maxSpeed=t.speed)}}],[{key:"fetchLatest",value:function(t){return this.fetch({last:!0,userid:t.id}).then((function(e){if(e.length){var r=new n(e[0].trackid,e[0].trackname,t);return r.fromJson(e),r}return null}))}},{key:"fetchList",value:function(t){return L.get("utils/gettracks.php",{userid:t.id}).then((function(e){var r,i=[],o=Et(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(new n(a.id,a.name,t))}}catch(t){o.e(t)}finally{o.f()}return i}))}},{key:"import",value:function(t,e){return L.post("utils/import.php",t).then((function(t){var r,i=[],o=Et(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(new n(a.id,a.name,e))}}catch(t){o.e(t)}finally{o.f()}return i}))}},{key:"getMeta",value:function(t){return n.update({action:"getmeta",trackid:t})}},{key:"update",value:function(t){return L.post("utils/handletrack.php",t)}}]),n}(St);function Mt(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ot(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var _t=function(t){C(n,t);var e=Pt(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(o(this,n),i=e.call(this),!D()(t)||t<=0)throw new Error("Invalid argument for user constructor");return i.id=t,i.login=r,i.isAdmin=a,i.listItem(t,r),i}return u(n,[{key:"isEqualTo",value:function(t){return!!t&&t.id===this.id}},{key:"fetchLastPosition",value:function(){return Tt.fetchLatest(this)}},{key:"delete",value:function(){return n.update({action:"delete",login:this.login})}},{key:"setPassword",value:function(t,e){return L.post("utils/changepass.php",{login:this.login,pass:t,oldpass:e})}},{key:"modify",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={action:"update",login:this.login,admin:t};return r&&(i.pass=r),n.update(i).then((function(){e.isAdmin=t}))}}],[{key:"fetchList",value:function(){return L.get("utils/getusers.php").then((function(t){var e,r=[],i=Mt(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;r.push(new n(o.id,o.login,o.isAdmin))}}catch(t){i.e(t)}finally{i.f()}return r}))}},{key:"add",value:function(t,e){return n.update({action:"add",login:t,pass:e}).then((function(e){return new n(e.id,t)}))}},{key:"update",value:function(t){return L.post("utils/handleuser.php",t)}}]),n}(st),It=function(){function t(){o(this,t),this._isAdmin=!1,this._isAuthenticated=!1,this._user=null}return u(t,[{key:"user",get:function(){return this._user},set:function(t){t?(this._user=t,this._isAuthenticated=!0):(this._user=null,this._isAuthenticated=!1,this._isAdmin=!1)}},{key:"isAdmin",get:function(){return this._isAdmin},set:function(t){if(!this._user)throw new Error("No authenticated user");this._isAdmin=t}},{key:"isAuthenticated",get:function(){return this._isAuthenticated}},{key:"load",value:function(t){t&&t.isAuthenticated&&(this.user=new _t(t.userId,t.userLogin),this.isAdmin=t.isAdmin)}}]),t}(),Ct=i(942),jt=i.n(Ct),Rt=i(1605),Ut=i(187);var Nt=i(9399);function Dt(){if("undefined"==typeof Reflect||!Nt)return!1;if(Nt.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Nt(Boolean,[],(function(){}))),!0}catch(t){return!1}}function zt(t,e,n){var r;Dt()?zt=_(r=Nt).call(r):zt=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(_(Function).apply(t,r));return n&&I(i,n.prototype),i};return zt.apply(null,arguments)}function Bt(t){var e="function"==typeof Rt?new Rt:void 0;return(Bt=function(t){if(null===t||(n=t,-1===Ut(r=Function.toString.call(n)).call(r,"[native code]")))return t;var n,r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return zt(t,arguments,U(this).constructor)}return i.prototype=O(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),I(i,t)})(t)}var Vt=i(7206),Ft=i.n(Vt);function Ht(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var qt=function(t){C(n,t);var e=Ht(n);function n(t,r,i,a){var s;return o(this,n),(s=e.call(this)).id=t,s.name=r,s.url=i,s.priority=a,s.listItem(t,r),s}return u(n,[{key:"setName",value:function(t){this.name=t,this.listItem(this.id,this.name)}},{key:"setUrl",value:function(t){this.url=t}}]),n}(st);function Gt(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Xt(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Wt=function(t){C(n,t);var e=Yt(n);function n(){return o(this,n),e.apply(this,arguments)}return u(n,[{key:"addNewLayer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.addLayer(this.getMaxId()+1,t,e,n)}},{key:"addLayer",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.push(new qt(t,e,n,r))}},{key:"delete",value:function(t){var e=dt()(this).call(this,(function(t){return t.id})).indexOf(t);Ft()(this).call(this,e,1)}},{key:"get",value:function(t){return X()(this).call(this,(function(e){return e.id===t}))}},{key:"getMaxId",value:function(){var t;return Math.max.apply(Math,r()(t=q(dt()(this).call(this,(function(t){return t.id})))).call(t,[0]))}},{key:"setPriorityLayer",value:function(t){var e,n=Gt(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.id>0&&r.id===t?r.priority=1:r.priority=0}}catch(t){n.e(t)}finally{n.f()}}},{key:"getPriorityLayer",value:function(){var t,e=Gt(this);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.priority>0)return n.id}}catch(t){e.e(t)}finally{e.f()}return 0}},{key:"load",value:function(t){this.length=0;var e,n=Gt(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.id>0&&this.addLayer(r.id,r.name,r.url,r.priority)}}catch(t){n.e(t)}finally{n.f()}}}]),n}(Bt(Array)),Zt=function(){function t(){o(this,t),this.initialize()}return u(t,[{key:"initialize",value:function(){this.interval=10,this.units="metric",this.lang="en",this.mapApi="openlayers",this.googleKey="",this.olLayers=new Wt,this.initLatitude=52.23,this.initLongitude=21.01,this.requireAuth=!0,this.publicTracks=!1,this.passStrength=2,this.passLenMin=10,this.strokeWeight=2,this.strokeColor="#ff0000",this.strokeOpacity=1,this.colorNormal="#ffffff",this.colorStart="#55b500",this.colorStop="#ff6a00",this.colorExtra="#cccccc",this.colorHilite="#feff6a",this.uploadMaxSize=0,this.initUnits()}},{key:"initUnits",value:function(){"imperial"===this.units?(this.factorSpeed=2.237,this.unitSpeed="unitmph",this.factorDistance=3.28,this.unitDistance="unitft",this.factorDistanceMajor=.621,this.unitDistanceMajor="unitmi"):"nautical"===this.units?(this.factorSpeed=1.944,this.unitSpeed="unitkt",this.factorDistance=1,this.unitDistance="unitm",this.factorDistanceMajor=.54,this.unitDistanceMajor="unitnm"):(this.factorSpeed=3.6,this.unitSpeed="unitkmh",this.factorDistance=1,this.unitDistance="unitm",this.factorDistanceMajor=1,this.unitDistanceMajor="unitkm"),this.unitDay="unitday",this.unitAltitude="unitamsl"}},{key:"load",value:function(t){if(t){for(var e in t)"layers"===e?this.olLayers.load(t[e]):t.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=t[e]);this.initUnits()}}},{key:"save",value:function(t){var e,n=this;return this.load(t),t=jt()(e=yt()(this)).call(e,(function(t){return"function"!=typeof n[t]})).reduce((function(t,e){return t[e]=n[e],t}),{}),L.post("utils/saveconfig.php",t)}},{key:"reinitialize",value:function(){rt.unobserveAll(this),this.initialize()}},{key:"onChanged",value:function(t,e){rt.observe(this,t,e)}},{key:"validPassStrength",value:function(t){return this.getPassRegExp().test(t)}},{key:"getPassRegExp",value:function(){var t="";return this.passStrength>0&&(t+="(?=.*[a-z])(?=.*[A-Z])"),this.passStrength>1&&(t+="(?=.*[0-9])"),this.passStrength>2&&(t+="(?=.*[^a-zA-Z0-9])"),this.passLenMin>0&&(t+="(?=.{".concat(this.passLenMin,",})")),0===t.length&&(t=".*"),new RegExp(t)}}]),t}(),Jt=i(728),Kt=i.n(Jt),$t=i(7977),Qt=i.n($t),te=function(){function t(){o(this,t),this.strings={},this.config=null}return u(t,[{key:"init",value:function(t,e){this.config=t,e&&(this.strings=e)}},{key:"_",value:function(t){if(void 0===this.strings[t])throw new Error("Unknown localized string");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o;return n.length?gt.sprintf.apply(gt,r()(o=[this.strings[t]]).call(o,n)):this.strings[t]}},{key:"unit",value:function(t){var e=this.config[t];if(void 0===this.config[t])throw new Error("Unknown localized unit");return this._(e)}},{key:"getLocaleSpeed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorSpeed*100)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitSpeed"))),r}},{key:"getLocaleDistanceMajor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorDistanceMajor/10)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitDistanceMajor"))),r}},{key:"getLocaleDistance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorDistance*100)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitDistance"))),r}},{key:"getLocaleAltitude",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getLocaleDistance(t,e);return e&&(n+=" ".concat(this.unit("unitAltitude"))),n.replace("-","")}},{key:"getLocaleAccuracy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getLocaleDistance(t,e)}},{key:"getLocaleDuration",value:function(t){var e,n,i,o,a=Math.floor(t/86400),s=Math.floor(t%86400/3600),u=Math.floor(t%86400%3600/60);return t=t%86400%3600%60,(a>0?r()(e="".concat(a," ")).call(e,this.unit("unitDay")," "):"")+c()(n="00".concat(s)).call(n,-2)+":"+c()(i="00".concat(u)).call(i,-2)+":"+c()(o="00".concat(t)).call(o,-2)}},{key:"getLocaleCoordinates",value:function(t){var e;return r()(e="".concat(this.coordStr(t.longitude,!0)," ")).call(e,this.coordStr(t.latitude,!1))}},{key:"coordStr",value:function(t,e){var n,i,o,a=Kt()(t),s=Math.round(100*(Math.abs(60*(t-a))+Qt()))/100;return o=e?t<0?"W":"E":t<0?"S":"N",r()(n=r()(i="".concat(Math.abs(a).toLocaleString(this.config.lang),"")).call(i,s.toLocaleString(this.config.lang,{maximumFractionDigits:2}),"'")).call(n,o)}},{key:"getLocalePassRules",value:function(){var t="";return this.config.passLenMin>0&&(t=gt.sprintf(this._("passlenmin")+"\n",this.config.passLenMin)),this.config.passStrength>0&&this.config.passStrength<4&&(t+=this._("passrules_".concat(this.config.passStrength))),t}},{key:"getLangList",value:function(){return this.strings.langArr||{}}}]),t}(),ee=function(){function t(){o(this,t),this.auth=new It,this.config=new Zt,this.lang=new te}return u(t,[{key:"initialize",value:function(){var t=this;return L.get("utils/getinit.php").then((function(e){if(!(e&&e.auth&&e.config&&e.lang))throw new Error("Corrupted initialization data");t.auth.load(e.auth),t.config.load(e.config),t.lang.init(t.config,e.lang)}))}}],[{key:"waitForDom",value:function(){return new(e())((function(t){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)}))}}]),t}(),ne=new ee,re=ne.config,ie=ne.lang,oe=ne.auth,ae=i(274),se=i.n(ae),ue=function(){function t(e){o(this,t),this._model=e,this.root=document}return u(t,[{key:"model",get:function(){return this._model}},{key:"bindAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;for(var e in this.root=t,this._model)this._model.hasOwnProperty(e)&&this.bind(e)}},{key:"bind",value:function(t){var e=this,n="bind";this.root.querySelectorAll("[data-".concat(n,"]")).forEach((function(n){n.dataset.bind===t&&(n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?e.onChangeBind(n,t):n instanceof HTMLAnchorElement||n instanceof HTMLButtonElement?e.onClickBind(n,t):e.viewUpdateBind(n,t))}))}},{key:"onClickBind",value:function(t,e){var n=this;t.addEventListener("click",(function(t){if("function"!=typeof n._model[e])throw new Error("Property ".concat(e," is not a callback"));n._model[e](t),t.preventDefault()}))}},{key:"onChangeBind",value:function(t,e){var n=this,r="value",i=function(t){return t};"checkbox"===t.type&&(r="checked",i=function(t){return!!t}),t.addEventListener("change",(function(){n._model[e]=t[r]})),rt.observe(this.model,e,(function(e){e=i(e),t[r]!==e&&(t[r]=e)}))}},{key:"viewUpdateBind",value:function(t,e){rt.observe(this.model,e,(function(e){t.innerHTML!==e&&(t.innerHTML=e)}))}},{key:"onChanged",value:function(t,e){rt.observe(this.model,t,e)}},{key:"unsubscribe",value:function(t,e){rt.unobserve(this.model,t,e)}},{key:"getBoundElement",value:function(t){return this.root.querySelector("[data-bind='".concat(t,"']"))}}]),t}(),le=i(5826),ce=i.n(le);function fe(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var he=1e3,de=function(t){C(n,t);var e=fe(n);function n(t){var r;return o(this,n),(r=e.call(this,{pointSelected:null,chartVisible:!1,buttonVisible:!1,onChartToggle:null,onMenuToggle:null})).state=t,r.data=[],r.chart=null,r.chartPoints=null,r.chartElement=document.querySelector("#chart"),r.chartContainer=r.chartElement.parentElement,r.buttonElement=document.querySelector("#altitudes"),r}return u(n,[{key:"init",value:function(){return this.chartSetup(),this.setObservers(),this.bindAll(),this}},{key:"chartSetup",value:function(){var t,e,n=this;gt.addCss("css/dist/chartist.css","chartist_css"),this.chart=new(se().Line)(this.chartElement,{series:[this.data]},{lineSmooth:!0,showArea:!0,axisX:{type:se().AutoScaleAxis,onlyInteger:!0,showLabel:!1},plugins:[ce()({axisY:{axisTitle:r()(t=r()(e="".concat(ie._("altitude")," (")).call(e,ie.unit("unitDistance")," ")).call(t,ie.unit("unitAltitude"),")"),axisClass:"ct-axis-title",offset:{x:0,y:11},textAnchor:"middle",flipTitle:!0}})]}),this.chart.on("created",(function(){return n.onCreated()}))}},{key:"onCreated",value:function(){var t=this;if(this.data.length&&this.data.length<=he){this.chartPoints=document.querySelectorAll(".ct-series .ct-point");for(var e=this.chartPoints.length,n=function(e){t.chartPoints[e].addEventListener("click",(function(){t.model.pointSelected=e}))},r=0;r<e;r++)n(r)}}},{key:"setObservers",value:function(){var t=this;this.state.onChanged("currentTrack",(function(e){e&&rt.observe(e,"positions",(function(){t.onTrackUpdate(e,!0)})),t.onTrackUpdate(e)})),this.onChanged("buttonVisible",(function(e){return t.renderButton(e)})),this.onChanged("chartVisible",(function(e){return t.renderContainer(e)})),this.model.onChartToggle=function(){t.model.chartVisible=!t.model.chartVisible},this.model.onMenuToggle=function(){t.model.chartVisible&&t.chart.update()}}},{key:"onTrackUpdate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.render(t,e),this.model.buttonVisible=!!t&&t.hasPlotData}},{key:"renderContainer",value:function(t){t?(this.chartContainer.style.display="block",this.render(this.state.currentTrack)):this.chartContainer.style.display="none"}},{key:"renderButton",value:function(t){t?this.buttonElement.classList.remove("menu-hidden"):this.buttonElement.classList.add("menu-hidden")}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(t&&t.hasPlotData&&this.model.chartVisible?n=t.plotData:this.model.chartVisible=!1,e||this.data!==n){var i;r()(i="Chart".concat(e?" forced":""," update (")).call(i,n.length,")"),this.data=n;var o={lineSmooth:n.length<=he};this.chart.update({series:[n]},o,!0)}}},{key:"pointAddClass",value:function(t,e){this.model.chartVisible&&this.chartPoints.length>t&&this.chartPoints[t].classList.add(e)}},{key:"pointsRemoveClass",value:function(t){this.model.chartVisible&&this.chartPoints&&this.chartPoints.forEach((function(e){return e.classList.remove(t)}))}},{key:"onPointOver",value:function(t){this.pointAddClass(t,"ct-point-hilight")}},{key:"onPointOut",value:function(){this.pointsRemoveClass("ct-point-hilight")}},{key:"onPointSelect",value:function(t){this.pointAddClass(t,"ct-point-selected")}},{key:"onPointUnselect",value:function(){this.pointsRemoveClass("ct-point-selected")}}]),n}(ue);function pe(t,e){return function(t){if(z(t))return t}(t)||function(t,e){var n=null==t?null:void 0!==y&&v(t)||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||H(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ve=i(7903),me=i.n(ve),ye=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.autoClose=r.autoClose||0,this.hasButton=void 0!==r.hasButton?r.hasButton:0===this.autoClose,this.fixedPosition=r.fixed||!1;var i='<div class="alert"><span>'.concat(e,"</span></div>");if(this.box=gt.nodeFromHtml(i),r.id&&(this.box.id=r.id),r.class&&this.box.classList.add(r.class),this.hasButton){var a=document.createElement("button");a.setAttribute("type","button"),a.textContent="",a.onclick=function(){return n.destroy()},this.box.appendChild(a)}this.closeHandle=null}return u(t,[{key:"render",value:function(){var e=this;if(!this.fixedPosition){var n=t.getPosition();n&&(this.box.style.top="".concat(n,"px"))}document.body.appendChild(this.box),setTimeout((function(){e.box&&e.box.classList.add("in")}),50)}},{key:"destroy",value:function(){if(this.closeHandle&&(clearTimeout(this.closeHandle),this.closeHandle=null),this.box&&document.body.contains(this.box)){var t=this.box;requestAnimationFrame((function(){t.classList.add("out"),setTimeout((function(){t.remove()}),1e3)})),this.box=null}}}],[{key:"getPosition",value:function(){var t=document.querySelectorAll(".alert"),e=t[t.length-1],n=0;if(e){var r=document.body.clientHeight-100;(n=e.getBoundingClientRect().bottom)>r&&(n=r)}return n}},{key:"show",value:function(e,n){var r=new t(e,n);return r.render(),r.autoClose&&(r.closeHandle=setTimeout((function(){return r.destroy()}),r.autoClose)),r}},{key:"error",value:function(t,e){var n,i;e instanceof Error&&console.error(r()(n=r()(i="".concat(e.name,": ")).call(i,e.message," (")).call(n,e.stack,")"));return this.show(t,{class:"error"})}},{key:"toast",value:function(t){return this.show(t,{class:"toast",autoClose:1e4})}},{key:"spinner",value:function(){return this.show("",{class:"spinner",hasButton:!1,fixed:!0})}}]),t}();function ge(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return be(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xe=function(){function t(e){o(this,t);var n=document.createElement("div");n.setAttribute("id","modal");var r=document.createElement("div");r.setAttribute("id","modal-header");var i=document.createElement("button");i.setAttribute("id","modal-close"),i.setAttribute("type","button"),i.setAttribute("class","button-reject"),i.setAttribute("data-bind","onCancel");var a=document.createElement("img");a.setAttribute("src","images/close.svg"),a.setAttribute("alt",ie._("close")),i.append(a),r.append(i);var s=document.createElement("div");if(s.setAttribute("id","modal-body"),"string"==typeof e)s.innerHTML=e;else if(e instanceof NodeList||e instanceof Array){var u,l=ge(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;s.append(c)}}catch(t){l.e(t)}finally{l.f()}}else s.append(e);s.prepend(r),n.append(s),this.element=n,this.visible=!1}return u(t,[{key:"show",value:function(){this.visible||(document.body.append(this.element),this.visible=!0,this.autofocus())}},{key:"autofocus",value:function(){var t=this.element.querySelector("[autofocus]");t&&t.focus()}},{key:"destroy",value:function(){document.body.removeChild(this.element),this.visible=!1}}],[{key:"isConfirmed",value:function(t){return confirm(t)}}]),t}();function we(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ke(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ke(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Se(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Ee=function(t){C(n,t);var e=Se(n);function n(){var t,i;return o(this,n),(i=e.call(this,{colorExtra:re.colorExtra,colorHilite:re.colorHilite,colorNormal:re.colorNormal,colorStart:re.colorStart,colorStop:re.colorStop,googleKey:re.googleKey,initLatitude:re.initLatitude,initLongitude:re.initLongitude,interval:re.interval,lang:re.lang,layerId:0,layerName:null,layers:zt(Wt,r()(t=[new qt(0,"OpenStreetMap","",0)]).call(t,q(re.olLayers))),layerUrl:null,mapApi:re.mapApi,passLenMin:re.passLenMin,passStrength:re.passStrength,publicTracks:re.publicTracks,requireAuth:re.requireAuth,strokeColor:re.strokeColor,strokeOpacity:re.strokeOpacity,strokeWeight:re.strokeWeight,units:re.units,uploadMaxSize:re.uploadMaxSize,uploadMaxSizeMB:re.uploadMaxSize/1024/1024})).model.onCancel=function(){return i.onCancel()},i.model.onSave=function(){return i.onSave()},i.model.onLayerUpdate=function(){return i.onLayerUpdate()},i.model.onLayerCancel=function(){return i.onLayerCancel()},i.model.onLayerEdit=function(){return i.onLayerEdit()},i.model.onLayerDelete=function(){return i.onLayerDelete()},i.model.onLayerAdd=function(){return i.onLayerAdd()},i}return u(n,[{key:"init",value:function(){var t=this,e=this.getHtml();this.dialog=new xe(e),this.dialog.show(),this.bindAll(this.dialog.element),this.toggleEditEl=this.getBoundElement("onLayerEdit").parentNode,this.layerEditEl=this.getBoundElement("layerName").parentNode,this.layerSelect=new at(this.getBoundElement("layerId")),this.setPublicTracksActivity(this.model.requireAuth),this.toggleEditVisible(),this.onChanged("layerId",(function(e){var n=t.model.layers.get(parseInt(e));t.model.layerName=n?n.name:"",t.model.layerUrl=n?n.url:"",t.toggleEditVisible()})),this.model.layerId=re.olLayers.getPriorityLayer().toString(),this.onChanged("uploadMaxSizeMB",(function(e){t.model.uploadMaxSize=1024*e*1024})),this.onChanged("layers",(function(e){return t.layerSelect.setOptions(e)})),this.onChanged("requireAuth",(function(e){t.setPublicTracksActivity(e)}))}},{key:"setPublicTracksActivity",value:function(t){t?this.getBoundElement("publicTracks").disabled=!1:(this.model.publicTracks=!0,this.getBoundElement("publicTracks").disabled=!0)}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"onSave",value:function(){var t=this;this.validate()&&(this.model.layers.setPriorityLayer(parseInt(this.model.layerId)),re.save(this.model).then((function(){return t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"validate",value:function(){return this.dialog.element.querySelector("form").checkValidity()}},{key:"toggleEditVisible",value:function(){parseInt(this.model.layerId)>0?this.toggleEditEl.style.visibility="visible":(this.toggleEditEl.style.visibility="hidden",this.hideEditElement())}},{key:"onLayerDelete",value:function(){this.model.layers.delete(parseInt(this.model.layerId)),this.model.layerId="0"}},{key:"onLayerEdit",value:function(){"none"===this.layerEditEl.style.display?this.showEditElement():this.hideEditElement()}},{key:"onLayerUpdate",value:function(){if(this.model.layerName&&this.model.layerUrl){if("-1"===this.model.layerId)this.model.layers.addNewLayer(this.model.layerName,this.model.layerUrl);else{var t=this.currentLayer();t.setName(this.model.layerName),t.setUrl(this.model.layerUrl)}this.hideEditElement(),this.layerSelect.setOptions(this.model.layers)}}},{key:"onLayerCancel",value:function(){this.hideEditElement(),this.layerSelect.setOptions(this.model.layers)}},{key:"onLayerAdd",value:function(){this.model.layerId="-1",this.onLayerEdit()}},{key:"hideEditElement",value:function(){this.layerEditEl.style.display="none"}},{key:"showEditElement",value:function(){this.layerEditEl.style.display="block"}},{key:"currentLayer",value:function(){return this.model.layers.get(parseInt(this.model.layerId))}},{key:"getHtml",value:function(){for(var t,e,n,i,o,a,s,u,l,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A,L,T,M,O,P,_,I,C,j,R,U,N,D,z,B,V,F,H,q,G,X,Y,W,Z,J,K,$,Q,tt,et,nt,rt="",it=0,ot=me()(ie.getLangList());it<ot.length;it++){var at,st,ut=pe(ot[it],2),lt=ut[0],ct=ut[1];rt+=r()(at=r()(st='<option value="'.concat(lt,'"')).call(st,this.model.lang===lt?" selected":"",">")).call(at,ct,"</option>")}for(var ft="",ht=0,dt=["metric","imperial","nautical"];ht<dt.length;ht++){var pt,vt,mt=dt[ht];ft+=r()(pt=r()(vt='<option value="'.concat(mt,'"')).call(vt,this.model.units===mt?" selected":"",">")).call(pt,ie._(mt),"</option>")}var yt,gt="",bt=we(this.model.layers);try{for(bt.s();!(yt=bt.n()).done;){var xt,wt,kt=yt.value;gt+=r()(xt=r()(wt='<option value="'.concat(kt.id,'"')).call(wt,kt.priority>0?" selected":"",">")).call(xt,kt.name,"</option>")}}catch(t){bt.e(t)}finally{bt.f()}return r()(t=r()(e=r()(n=r()(i=r()(o=r()(a=r()(s=r()(u=r()(l=r()(c=r()(f=r()(h=r()(d=r()(p=r()(v=r()(m=r()(y=r()(g=r()(b=r()(x=r()(w=r()(k=r()(S=r()(E=r()(A=r()(L=r()(T=r()(M=r()(O=r()(P=r()(_=r()(I=r()(C=r()(j=r()(R=r()(U=r()(N=r()(D=r()(z=r()(B=r()(V=r()(F=r()(H=r()(q=r()(G=r()(X=r()(Y=r()(W=r()(Z=r()(J=r()(K=r()($=r()(Q=r()(tt=r()(et=r()(nt='<div><img style="vertical-align: bottom; margin-right: 10px;" src="images/settings.svg" alt="'.concat(ie._("settings"),'"> <b>')).call(nt,ie._("editingconfig"),'</b></div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="config-form">\n        <label><b>')).call(et,ie._("language"),'</b>\n        <select data-bind="lang">\n          ')).call(tt,rt,"\n        </select></label>\n        <label><b>")).call(Q,ie._("units"),'</b>\n        <select data-bind="units">\n          ')).call($,ft,"\n        </select></label>\n        <label><b>")).call(K,ie._("api"),'</b>\n        <select data-bind="mapApi">\n          <option value="openlayers"')).call(J,"openlayers"===this.model.mapApi?" selected":"",'>OpenLayers</option>\n          <option value="gmaps"')).call(Z,"gmaps"===this.model.mapApi?" selected":"",">Google Maps</option>\n        </select></label>\n        <label><b>")).call(W,ie._("ollayers"),'</b>\n        <select data-bind="layerId">\n          ')).call(Y,gt,'\n        </select>\n        <a data-bind="onLayerAdd"><img src="images/add.svg" alt="')).call(X,ie._("add"),'"></a> \n        <span style="visibility: hidden;">\n        <a data-bind="onLayerEdit"><img src="images/edit.svg" alt="')).call(G,ie._("edit"),'"></a> \n        <a data-bind="onLayerDelete"><img src="images/delete.svg" alt="')).call(q,ie._("delete"),'"></a>\n        </span></label>\n        <div style="display: none; text-align: center;">\n          <input type="text" maxlength="50" placeholder="')).call(H,ie._("layername"),'" data-bind="layerName">\n          <input type="text" maxlength="255" placeholder="')).call(F,ie._("layerurl"),'" data-bind="layerUrl">\n          <button class="button-resolve" data-bind="onLayerUpdate" type="submit">')).call(V,ie._("submit"),'</button>\n          <button class="button-reject" data-bind="onLayerCancel" type="button">')).call(B,ie._("cancel"),"</button>\n        </div>\n        <label><b>")).call(z,ie._("interval"),'</b>\n        <input type="number" data-bind="interval" min="1" value="')).call(D,this.model.interval,'" required></label>\n        <label><b>')).call(N,ie._("longitude"),'</b>\n        <input type="number" data-bind="initLongitude" min="-180" max="180" step="0.01" value="')).call(U,this.model.initLongitude,'" required></label>\n        <label><b>')).call(R,ie._("latitude"),'</b>\n        <input type="number" data-bind="initLatitude" min="-90" max="90" step="0.01" value="')).call(j,this.model.initLatitude,'" required></label>\n        <label><b>')).call(C,ie._("googlekey"),'</b>\n        <input type="text" data-bind="googleKey" value="')).call(I,this.model.googleKey,'"></label>\n        <label><b>')).call(_,ie._("passlength"),'</b>\n        <input type="number" data-bind="passLenMin" min="1" value="')).call(P,this.model.passLenMin,'" required></label>\n        <label><b>')).call(O,ie._("passstrength"),'</b>\n        <select data-bind="passStrength">\n          <option value="0"')).call(M,0===this.model.passStrength?" selected":"",'>password</option>\n          <option value="1"')).call(T,1===this.model.passStrength?" selected":"",'>paSsword</option>\n          <option value="2"')).call(L,2===this.model.passStrength?" selected":"",'>paSsword1</option>\n          <option value="3"')).call(A,3===this.model.passStrength?" selected":"",">paSsword1#</option>\n        </select></label>\n        <label><b>")).call(E,ie._("uploadmaxsize"),'</b>\n        <input type="number" data-bind="uploadMaxSizeMB" min="1" value="')).call(S,this.model.uploadMaxSizeMB,'" required></label>\n        <label><b>')).call(k,ie._("requireauth"),'</b>\n        <input type="checkbox" data-bind="requireAuth"')).call(w,this.model.requireAuth?" checked":"","></label>\n        <label><b>")).call(x,ie._("publictracks"),'</b>\n        <input type="checkbox" data-bind="publicTracks"')).call(b,this.model.publicTracks?" checked":"","></label>\n        <label><b>")).call(g,ie._("strokeweight"),'</b>\n        <input type="number" data-bind="strokeWeight" min="1" value="')).call(y,this.model.strokeWeight,'" required></label>\n        <label><b>')).call(m,ie._("strokeopacity"),'</b>\n        <input type="number" data-bind="strokeOpacity" min="0" max="1" step="0.01" value="')).call(v,this.model.strokeOpacity,'" required></label>\n        <label><b>')).call(p,ie._("strokecolor"),'</b>\n        <input type="color" data-bind="strokeColor" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(d,this.model.strokeColor,'" required></label>\n        <label><b>')).call(h,ie._("colornormal"),'</b>\n        <input type="color" data-bind="colorNormal" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(f,this.model.colorNormal,'" required></label>\n        <label><b>')).call(c,ie._("colorstart"),'</b>\n        <input type="color" data-bind="colorStart" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(l,this.model.colorStart,'" required></label>\n        <label><b>')).call(u,ie._("colorstop"),'</b>\n        <input type="color" data-bind="colorStop" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(s,this.model.colorStop,'" required></label>\n        <label><b>')).call(a,ie._("colorextra"),'</b>\n        <input type="color" data-bind="colorExtra" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(o,this.model.colorExtra,'" required></label>\n        <label><b>')).call(i,ie._("colorhilite"),'</b>\n        <input type="color" data-bind="colorHilite" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(n,this.model.colorHilite,'" required></label>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,ie._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onSave" type="submit">')).call(t,ie._("submit"),"</button>\n        </div>\n      </form>")}}]),n}(ue);function Ae(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Le=function(t){C(n,t);var e=Ae(n);function n(t){var r;return o(this,n),(r=e.call(this,re)).state=t,r.model.onSetInterval=function(){return r.setAutoReloadInterval()},r.model.onConfigEdit=function(){return r.showConfigDialog()},r}return u(n,[{key:"init",value:function(){return this.setObservers(),this.bindAll(),this}},{key:"setObservers",value:function(){this.onChanged("mapApi",(function(t){gt.setCookie("api",t)})),this.onChanged("lang",(function(t){gt.setCookie("lang",t),n.reload()})),this.onChanged("units",(function(t){gt.setCookie("units",t),n.reload()})),this.onChanged("interval",(function(t){gt.setCookie("interval",t)}))}},{key:"setAutoReloadInterval",value:function(){var t=parseInt(prompt(ie._("newinterval")));isNaN(t)||t===this.model.interval||(this.model.interval=t)}},{key:"showConfigDialog",value:function(){new Ee(this).init()}}],[{key:"reload",value:function(){window.location.reload()}}]),n}(ue);function Te(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Me,Oe="menu-hidden",Pe=function(t){C(n,t);var e=Te(n);function n(t){var r;return o(this,n),(r=e.call(this,{onMenuToggle:null,onShowUserMenu:null,onLogin:null,onLogout:null})).state=t,r.model.onMenuToggle=function(){return r.toggleSideMenu()},r.model.onShowUserMenu=function(){return r.toggleUserMenu()},r.model.onLogin=function(){return n.login()},r.model.onLogout=function(){return n.logout()},r.hideUserMenuCallback=function(t){return r.hideUserMenu(t)},r.menuEl=document.querySelector("#menu"),r.userMenuEl=document.querySelector("#user-menu"),r}return u(n,[{key:"init",value:function(){return this.bindAll(),this}},{key:"toggleSideMenu",value:function(){this.menuEl.classList.contains(Oe)?this.menuEl.classList.remove(Oe):this.menuEl.classList.add(Oe)}},{key:"toggleUserMenu",value:function(){this.userMenuEl.classList.contains(Oe)?(this.userMenuEl.classList.remove(Oe),window.addEventListener("click",this.hideUserMenuCallback,!0)):this.userMenuEl.classList.add(Oe)}},{key:"hideUserMenu",value:function(t){var e=t.target;this.userMenuEl.classList.add(Oe),window.removeEventListener("click",this.hideUserMenuCallback,!0),"user-menu"!==e.parentElement.id&&t.stopPropagation()}}],[{key:"login",value:function(){gt.openUrl("login.php".concat(window.location.hash))}},{key:"logout",value:function(){var t="utils/logout.php";re.requireAuth||(t+="?hash=".concat(window.location.hash.replace("#",""))),gt.openUrl(t)}}]),n}(ue),_e=function(){function t(e){o(this,t),this.map=null,this.viewModel=e,this.polies=[],this.markers=[],this.popup=null,this.timeoutHandle=0}return u(t,[{key:"init",value:function(){var n=this,r="?".concat(re.googleKey?"key=".concat(re.googleKey,"&"):"","callback=gm_loaded");return e().all([t.onScriptLoaded(),gt.loadScript("https://maps.googleapis.com/maps/api/js".concat(r),"mapapi_gmaps",t.loadTimeoutMs)]).then((function(){return n.initMap()}))}},{key:"initMap",value:function(){var t=this,e={center:new google.maps.LatLng(re.initLatitude,re.initLongitude),zoom:8,mapTypeId:google.maps.MapTypeId.TERRAIN,scaleControl:!0,controlSize:30};this.map=new google.maps.Map(this.viewModel.mapElement,e),this.popup=new google.maps.InfoWindow,this.popup.addListener("closeclick",(function(){t.popupClose()})),this.saveState=function(){t.viewModel.state.mapParams=t.getState()}}},{key:"cleanup",value:function(){this.polies.length=0,this.markers.length=0,this.popup=null,dt()(this)&&dt()(this).getDiv()&&(dt()(this).getDiv().innerHTML=""),this.map=null}},{key:"displayTrack",value:function(t,n){var r=this;if(!t||!t.hasPositions)return e().resolve();google.maps.event.clearListeners(dt()(this),"idle");var i,o=new(e())((function(t){google.maps.event.addListenerOnce(dt()(r),"tilesloaded",(function(){dt()(r)&&(r.saveState(),dt()(r).addListener("idle",r.saveState)),t()}))})),a={strokeColor:re.strokeColor,strokeOpacity:re.strokeOpacity,strokeWeight:re.strokeWeight},s=new google.maps.LatLngBounds;if(this.polies.length){i=this.polies[0];for(var u=0;u<this.markers.length;u++)s.extend(this.markers[u].getPosition())}else(i=new google.maps.Polyline(a)).setMap(dt()(this)),this.polies.push(i);var l=i.getPath(),c=this.markers.length;c>0&&this.removePoint(--c);for(var f=c;f<t.length;f++){this.setMarker(f,t);var h=t.positions[f],d=new google.maps.LatLng(h.latitude,h.longitude);t instanceof Tt&&l.push(d),s.extend(d)}if(n&&(dt()(this).fitBounds(s),1===t.length)){var p=google.maps.event.addListenerOnce(dt()(this),"bounds_changed",(function(){this.getZoom()&&this.setZoom(15)}));setTimeout((function(){google.maps.event.removeListener(p)}),2e3)}return o}},{key:"clearMap",value:function(){if(this.polies)for(var t=0;t<this.polies.length;t++)this.polies[t].setMap(null);if(this.markers)for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.popup.getMap()&&this.popupClose(),this.popup.setContent(""),this.markers.length=0,this.polies.length=0}},{key:"setMarker",value:function(e,n){var r,i=this,o=n.positions[e],a=new google.maps.Marker({position:new google.maps.LatLng(o.latitude,o.longitude),title:new Date(1e3*o.timestamp).toLocaleString(),map:dt()(this)}),s=o.hasComment()||o.hasImage();r=n.isLastPosition(e)?t.getMarkerIcon(re.colorStop,!0,s):n.isFirstPosition(e)?t.getMarkerIcon(re.colorStart,!0,s):t.getMarkerIcon(s?re.colorExtra:re.colorNormal,!1,s),a.setIcon(r),a.addListener("click",(function(){i.popupOpen(e,a)})),a.addListener("mouseover",(function(){i.viewModel.model.markerOver=e})),a.addListener("mouseout",(function(){i.viewModel.model.markerOver=null})),this.markers.push(a)}},{key:"removePoint",value:function(t){var e;this.markers.length>t&&(this.markers[t].setMap(null),Ft()(e=this.markers).call(e,t,1),this.polies.length&&this.polies[0].getPath().removeAt(t),this.viewModel.model.markerSelect===t&&this.popupClose())}},{key:"popupOpen",value:function(t,e){this.popup.setContent(this.viewModel.getPopupElement(t)),this.popup.open(dt()(this),e),this.viewModel.model.markerSelect=t}},{key:"popupClose",value:function(){this.viewModel.model.markerSelect=null,this.popup.close()}},{key:"animateMarker",value:function(e){var n=this;this.popup.getMap()&&(this.popupClose(),clearTimeout(this.timeoutHandle));var r=this.markers[e].getIcon();this.markers[e].setIcon(t.getMarkerIcon(re.colorHilite,!1,!1)),this.markers[e].setAnimation(google.maps.Animation.BOUNCE),this.timeoutHandle=setTimeout((function(){n.markers[e].setIcon(r),n.markers[e].setAnimation(null)}),2e3)}},{key:"getBounds",value:function(){var t=dt()(this).getBounds(),e=t.getSouthWest().lat(),n=t.getSouthWest().lng(),r=t.getNorthEast().lat();return[n,e,t.getNorthEast().lng(),r]}},{key:"zoomToExtent",value:function(){for(var t=new google.maps.LatLngBounds,e=0;e<this.markers.length;e++)t.extend(this.markers[e].getPosition());dt()(this).fitBounds(t)}},{key:"zoomToBounds",value:function(t){var e=new google.maps.LatLng(t[1],t[0]),n=new google.maps.LatLng(t[3],t[2]),r=new google.maps.LatLngBounds(e,n);dt()(this).fitBounds(r)}},{key:"isPositionVisible",value:function(t){return!(t>=this.markers.length)&&dt()(this).getBounds().contains(this.markers[t].getPosition())}},{key:"centerToPosition",value:function(t){t<this.markers.length&&dt()(this).setCenter(this.markers[t].getPosition())}},{key:"updateSize",value:function(){}},{key:"setTrackDefaultStyle",value:function(){}},{key:"setTrackGradientStyle",value:function(t,e,n){}},{key:"updateState",value:function(t){dt()(this).setCenter({lat:t.center[0],lng:t.center[1]}),dt()(this).setZoom(t.zoom)}},{key:"getState",value:function(){if(dt()(this)){var t=dt()(this).getCenter();return{center:[t.lat(),t.lng()],zoom:dt()(this).getZoom(),rotation:0}}return null}},{key:"saveState",value:function(){}}],[{key:"onScriptLoaded",value:function(){var n=gt.timeoutPromise(t.loadTimeoutMs),r=new(e())((function(e,n){window.gm_loaded=function(){t.gmInitialized=!0,e()},window.gm_authFailure=function(){t.authError=!0;var e=ie._("apifailure","Google Maps");e+="<br><br>"+ie._("gmauthfailure"),e+="<br><br>"+ie._("gmapilink"),t.gmInitialized&&ye.error(e),n(new Error(e))},t.authError&&window.gm_authFailure(),t.gmInitialized&&window.gm_loaded()}));return e().race([r,n])}},{key:"getMarkerIcon",value:function(t,e,n){return{anchor:new google.maps.Point(15,35),url:ze.getSvgSrc(t,e,n)}}},{key:"loadTimeoutMs",get:function(){return 1e4}}]),t}();function Ie(t,e){var n=void 0!==p()&&m()(t)||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ce(t,e);var r=c()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return h()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ce(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}_e.authError=!1,_e.gmInitialized=!1;var je=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t),this.map=null,this.viewModel=e,this.layerTrack=null,this.layerMarkers=null,this.selectedLayer=null,this.markerStyles=null,this.popup=null,n&&(Me=n)}return u(t,[{key:"init",value:function(){var t=this;return gt.addCss("css/dist/ol.css","ol_css"),(Me?e().resolve():i.e(521).then(i.bind(i,4392)).then((function(t){Me=t}))).then((function(){t.initMap(),t.initLayers(),t.initStyles(),t.initPopups()}))}},{key:"initMap",value:function(){var t=this,e=[new Me.control.Zoom,new Me.control.Rotate,new Me.control.ScaleLine],n=new Me.View({center:Me.proj.fromLonLat([re.initLongitude,re.initLatitude]),zoom:8});this.map=new Me.Map({target:this.viewModel.mapElement,controls:e,view:n}),dt()(this).on("pointermove",(function(e){var n=dt()(t).forEachFeatureAtPixel(e.pixel,(function(t,e){return"Markers"===e.get("name")?t:null}));if(n){dt()(t).getTargetElement().style.cursor="pointer";var r=n.getId();r!==t.viewModel.model.markerOver&&(t.viewModel.model.markerOver=r)}else dt()(t).getTargetElement().style.cursor="",t.viewModel.model.markerOver=null})),this.saveState=function(){t.viewModel.state.mapParams=t.getState()}}},{key:"initLayers",value:function(){var t=new Me.layer.TileLayer({name:"OpenStreetMap",visible:!0,source:new Me.source.OSM});dt()(this).addLayer(t),this.selectedLayer=t;var e,n=Ie(re.olLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=new Me.layer.TileLayer({name:r.name,visible:!1,source:new Me.source.XYZ({url:r.url})});dt()(this).addLayer(i),r.priority&&(this.selectedLayer.setVisible(!1),this.selectedLayer=i,this.selectedLayer.setVisible(!0))}}catch(t){n.e(t)}finally{n.f()}this.layerTrack=new Me.layer.VectorLayer({name:"Track",type:"data",source:new Me.source.Vector}),this.layerMarkers=new Me.layer.VectorLayer({name:"Markers",type:"data",source:new Me.source.Vector}),dt()(this).addLayer(this.layerTrack),dt()(this).addLayer(this.layerMarkers),this.initLayerSwitcher()}},{key:"initStyles",value:function(){var t=[.5,1];this.markerStyles={start:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorStart,!0)})}),stop:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorStop,!0)})}),normal:new Me.style.Style({image:new Me.style.Icon({anchor:t,opacity:.7,src:ze.getSvgSrc(re.colorNormal,!1)})}),extra:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorExtra,!1,!0)})}),startExtra:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorStart,!0,!0)})}),stopExtra:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorStop,!0,!0)})}),hilite:new Me.style.Style({image:new Me.style.Icon({anchor:t,src:ze.getSvgSrc(re.colorHilite,!1)})})}}},{key:"setTrackDefaultStyle",value:function(){var t=new Me.style.Style({stroke:new Me.style.Stroke({color:gt.hexToRGBA(re.strokeColor,re.strokeOpacity),width:re.strokeWeight})});this.layerTrack.setStyle(t)}},{key:"getGradientStyle",value:function(t,e,n){var r=dt()(this).getPixelFromCoordinate(e[0]),i=dt()(this).getPixelFromCoordinate(e[1]),o=window.devicePixelRatio,a=r[0]*o,s=r[1]*o,u=i[0]*o,l=i[1]*o,c=t.createLinearGradient(a,s,u,l);return c.addColorStop(0,n[0]),c.addColorStop(1,n[1]),new Me.style.Style({geometry:new Me.geom.LineString(e),stroke:new Me.style.Stroke({color:c,width:2*re.strokeWeight})})}},{key:"setTrackGradientStyle",value:function(t,e,n){var r=this,i=n.minValue,o=n.maxValue,a=n.minColor,s=n.maxColor;if(t.length<2||o<i)this.setTrackDefaultStyle();else{var u=document.createElement("canvas",{alpha:!1,desynchronized:!0}).getContext("2d");this.layerTrack.setStyle((function(n){var l=[new Me.style.Style({stroke:new Me.style.Stroke({color:"grey",width:2*re.strokeWeight+2})})],c=n.getGeometry();if(i===o)return l.push(new Me.style.Style({geometry:c,stroke:new Me.style.Stroke({color:gt.getScaleColor(a,s,.5),width:2*re.strokeWeight})})),l;var f=t.positions[0],h=null!==f[e]?f[e]:0,d=gt.getScaleColor(a,s,(h-i)/(o-i)),p=1;return c.forEachSegment((function(n,c){var h;h=null!==(f=t.positions[p])[e]?gt.getScaleColor(a,s,(f[e]-i)/(o-i)):d,l.push(r.getGradientStyle(u,[n,c],[d,h])),d=h,p++})),l}))}}},{key:"initPopups",value:function(){var t=this,e=document.createElement("div");e.id="popup-container",e.className="ol-popup";var n=document.createElement("div");n.id="popup-content",e.appendChild(n);var r=document.createElement("a");r.className="ol-popup-closer",e.appendChild(r),this.popup=new Me.Overlay({element:e,autoPan:!0,autoPanAnimation:{duration:250}}),dt()(this).addOverlay(this.popup),r.onclick=function(){return t.popupClose(),r.blur(),!1},dt()(this).on("click",(function(e){var n=e.coordinate,r=dt()(t).forEachFeatureAtPixel(e.pixel,(function(t,e){return"Markers"===e.get("name")?t:null}));r?t.popupOpen(r.getId(),n):t.popupClose()}))}},{key:"popupOpen",value:function(t,e){this.popup.getElement().firstElementChild.innerHTML="",this.popup.getElement().firstElementChild.appendChild(this.viewModel.getPopupElement(t)),this.popup.setPosition(e),this.viewModel.model.markerSelect=t}},{key:"popupClose",value:function(){this.popup&&(this.popup.setPosition(void 0),this.popup.getElement().firstElementChild.innerHTML=""),this.viewModel.model.markerSelect=null}},{key:"switchLayer",value:function(t){var e=this;dt()(this).getLayers().forEach((function(n){n.get("name")===t&&("data"===n.get("type")?n.getVisible()?n.setVisible(!1):n.setVisible(!0):(e.selectedLayer.setVisible(!1),e.selectedLayer=n,n.setVisible(!0)))}))}},{key:"initLayerSwitcher",value:function(){var t=this,e=document.createElement("div");e.id="switcher",e.className="ol-control",document.body.appendChild(e);var n=document.createElement("div");n.id="switcher-content",n.className="ol-layerswitcher",e.appendChild(n);var r=document.createElement("a");r.className="ol-popup-closer",e.appendChild(r),dt()(this).getLayers().forEach((function(e){var r=document.createElement("label");r.innerHTML=e.get("name"),n.appendChild(r);var i=document.createElement("input");"data"===e.get("type")?(i.type="checkbox",r.className="ol-datalayer"):i.type="radio",i.name="layer",i.value=e.get("name"),i.onclick=function(e){var n=e.target;t.switchLayer(n.value)},e.getVisible()&&(i.checked=!0),r.insertBefore(i,r.childNodes[0])}));var i=document.createElement("button"),o=document.createElement("img");o.src="images/layers.svg",o.style.width="60%",i.appendChild(o);var a=function(){"block"===e.style.display?e.style.display="none":e.style.display="block"};r.addEventListener("click",a,!1),i.addEventListener("click",a,!1),i.addEventListener("touchstart",a,!1);var s=document.createElement("div");s.className="ol-switcher-button ol-unselectable ol-control",s.appendChild(i);var u=new Me.control.Control({element:s});dt()(this).addControl(u)}},{key:"cleanup",value:function(){this.layerTrack=null,this.layerMarkers=null,this.selectedLayer=null,this.markerStyles=null,gt.removeElementById("switcher"),dt()(this)&&dt()(this).getTargetElement()&&(dt()(this).getTargetElement().innerHTML=""),this.map=null}},{key:"displayTrack",value:function(t,n){var r=this;if(!t||!t.hasPositions)return e().resolve();dt()(this).un("moveend",this.saveState);var i=new(e())((function(t){dt()(r).once("rendercomplete",(function(){dt()(r)&&(r.saveState(),dt()(r).on("moveend",r.saveState)),t()}))})),o=this.layerMarkers?this.layerMarkers.getSource().getFeatures().length:0;o>0&&this.removePoint(--o);for(var a=o;a<t.length;a++)this.setMarker(a,t);if(t instanceof Tt){var s;if(this.layerTrack&&this.layerTrack.getSource().getFeatures().length)s=this.layerTrack.getSource().getFeatures()[0].getGeometry();else{s=new Me.geom.LineString([]);var u=new Me.Feature({geometry:s});this.layerTrack.getSource().addFeature(u)}for(var l=o;l<t.length;l++){var c=t.positions[l];s.appendCoordinate(Me.proj.fromLonLat([c.longitude,c.latitude]))}}var f=this.layerMarkers.getSource().getExtent();return n&&(f=this.fitToExtent(f)),this.setZoomToExtent(f),i}},{key:"setZoomToExtent",value:function(e){var n=this;dt()(this).getControls().forEach((function(t){t instanceof Me.control.ZoomToExtent&&dt()(n).removeControl(t)})),dt()(this).addControl(new Me.control.ZoomToExtent({extent:e,label:t.getExtentImg()}))}},{key:"fitToExtent",value:function(e){return dt()(this).getView().fit(e,{padding:t.TRACK_PADDING,maxZoom:t.ZOOM_MAX}),dt()(this).getView().calculateExtent()}},{key:"isPositionVisible",value:function(t){var e=dt()(this).getView().calculateExtent(),n=this.layerMarkers.getSource().getFeatureById(t).getGeometry();return!!n&&Me.extent.containsCoordinate(e,n.getCoordinates())}},{key:"centerToPosition",value:function(t){var e=this.layerMarkers.getSource().getFeatureById(t).getGeometry();e&&("Setting center to position ".concat(t),dt()(this).getView().setCenter(e.getCoordinates()))}},{key:"clearMap",value:function(){this.popupClose(),this.layerTrack&&this.layerTrack.getSource().clear(),this.layerMarkers&&this.layerMarkers.getSource().clear()}},{key:"getMarkerStyle",value:function(t,e){var n=e.positions[t],r=this.markerStyles.normal;return n.hasComment()||n.hasImage()?r=e.isLastPosition(t)?this.markerStyles.stopExtra:e.isFirstPosition(t)?this.markerStyles.startExtra:this.markerStyles.extra:e.isLastPosition(t)?r=this.markerStyles.stop:e.isFirstPosition(t)&&(r=this.markerStyles.start),r}},{key:"setMarker",value:function(t,e){var n=e.positions[t],r=new Me.Feature({geometry:new Me.geom.Point(Me.proj.fromLonLat([n.longitude,n.latitude]))}),i=this.getMarkerStyle(t,e);r.setStyle(i),r.setId(t),this.layerMarkers.getSource().addFeature(r)}},{key:"removePoint",value:function(t){var e=this.layerMarkers.getSource().getFeatureById(t);if(e){if(this.layerMarkers.getSource().removeFeature(e),this.layerTrack){var n=this.layerTrack.getSource().getFeatures()[0].getGeometry(),r=n.getCoordinates();Ft()(r).call(r,t,1),n.setCoordinates(r)}this.viewModel.model.markerSelect===t&&this.popupClose()}}},{key:"animateMarker",value:function(t){var e=this.layerMarkers.getSource().getFeatureById(t),n=e.getStyle();e.setStyle(this.markerStyles.hilite),setTimeout((function(){return e.setStyle(n)}),2e3)}},{key:"getBounds",value:function(){var t=dt()(this).getView().calculateExtent(),e=Me.proj.toLonLat([t[0],t[1]]),n=Me.proj.toLonLat([t[2],t[3]]);return[e[0],e[1],n[0],n[1]]}},{key:"zoomToExtent",value:function(){this.fitToExtent(this.layerMarkers.getSource().getExtent())}},{key:"zoomToBounds",value:function(t){var e=Me.proj.fromLonLat([t[0],t[1]]),n=Me.proj.fromLonLat([t[2],t[3]]);dt()(this).getView().fit([e[0],e[1],n[0],n[1]])}},{key:"updateSize",value:function(){dt()(this).updateSize()}},{key:"updateState",value:function(t){dt()(this).getView().setCenter(t.center),dt()(this).getView().setZoom(t.zoom),dt()(this).getView().setRotation(t.rotation)}},{key:"getState",value:function(){var t=dt()(this)?dt()(this).getView():null;return t?{center:t.getCenter(),zoom:t.getZoom(),rotation:t.getRotation()}:null}},{key:"saveState",value:function(){}}],[{key:"getExtentImg",value:function(){var t=document.createElement("img");return t.src="images/extent.svg",t.style.width="60%",t}}]),t}();function Re(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}je.ZOOM_MAX=20,je.TRACK_PADDING=[40,10,10,10];var Ue="hidden",Ne=function(t){C(i,t);var n=Re(i);function i(t,e){var r;return o(this,i),(r=n.call(this,{onPositionDelete:null,onPositionUpdate:null,onCancel:null,comment:null,image:null,onImageDelete:null})).state=t,r.positionIndex=e,r.position=r.state.currentTrack.positions[e],r.model.comment=r.position.hasComment()?r.position.comment:"",r.model.image=r.position.image,r.model.onPositionDelete=function(){return r.onPositionDelete()},r.model.onPositionUpdate=function(){return r.onPositionUpdate()},r.model.onCancel=function(){return r.onCancel()},r.model.onImageDelete=function(){return r.onImageDelete()},r.onChanged("image",(function(t){t&&t!==r.position.image&&r.readImage()})),r}return u(i,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new xe(t),this.dialog.show(),this.bindAll(this.dialog.element),this.previewEl=this.getBoundElement("imagePreview"),this.fileEl=this.getBoundElement("image"),this.imageDeleteEl=this.getBoundElement("onImageDelete"),this.initReader()}},{key:"initReader",value:function(){var t=this;this.reader=new FileReader,this.reader.addEventListener("load",(function(){t.showThumbnail()}),!1),this.reader.addEventListener("error",(function(){t.model.image=t.position.image}),!1)}},{key:"readImage",value:function(){var t=this.fileEl.files[0];if(t){if(t.size>re.uploadMaxSize)return ye.error(ie._("isizefailure",re.uploadMaxSize)),void(this.model.image=this.position.image);this.reader.readAsDataURL(t)}}},{key:"showThumbnail",value:function(){var t=this;this.previewEl.onload=function(){return t.toggleImage()},this.previewEl.onerror=function(){ye.error(ie._("iuploadfailure")),t.model.image=t.position.image},this.previewEl.src=this.reader.result}},{key:"toggleImage",value:function(){this.previewEl.classList.contains(Ue)?(this.previewEl.classList.remove(Ue),this.imageDeleteEl.classList.remove(Ue),this.fileEl.classList.add(Ue)):(this.previewEl.classList.add(Ue),this.imageDeleteEl.classList.add(Ue),this.fileEl.classList.remove(Ue))}},{key:"onImageDelete",value:function(){this.model.image=null,this.toggleImage()}},{key:"getHtml",value:function(){var t,e,n,i,o,a,s,u,l,c,f;return r()(t=r()(e=r()(n=r()(i=r()(o=r()(a=r()(s=r()(u=r()(l=r()(c=r()(f='<div class="red-button button-resolve"><b><a data-bind="onPositionDelete">'.concat(ie._("delposition"),"</a></b></div>\n      <div>")).call(f,ie._("editingposition",this.positionIndex+1,"<b>".concat(gt.htmlEncode(this.position.trackname),"</b>")),'</div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="positionForm">\n        <label><b>')).call(c,ie._("comment"),'</b></label><br>\n        <textarea style="width:100%;" maxlength="255" rows="5" placeholder="')).call(l,ie._("comment"),'" name="comment" \n        data-bind="comment" autofocus>')).call(u,gt.htmlEncode(this.model.comment),"</textarea>\n        <br><br>\n        <label><b>")).call(s,ie._("image"),'</b></label><br>\n        <input type="file" name="image" data-bind="image" accept="image/png, image/jpeg, image/gif, image/bmp"')).call(a,this.position.hasImage()?' class="hidden"':"",'>\n        <img style="max-width:50px; max-height:50px" data-bind="imagePreview" ')).call(o,this.position.hasImage()?'src="'.concat(this.position.getImagePath(),'"'):'class="hidden"','>\n        <a data-bind="onImageDelete" ')).call(i,this.position.hasImage()?"":' class="hidden"',">")).call(n,ie._("delimage"),'</a>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,ie._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onPositionUpdate" type="submit">')).call(t,ie._("submit"),"</button>\n        </div>\n      </form>")}},{key:"onPositionDelete",value:function(){var t=this;xe.isConfirmed(ie._("positiondelwarn",this.positionIndex+1,gt.htmlEncode(this.position.trackname)))&&this.position.delete().then((function(){var e,n=t.state.currentTrack;t.state.currentTrack=null,Ft()(e=n.positions).call(e,t.positionIndex,1),n.recalculatePositions(),t.state.currentTrack=n,t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"updateImage",value:function(){var t=e().resolve();return this.model.image!==this.position.image&&(t=null===this.model.image?this.position.imageDelete():this.position.imageAdd(this.fileEl.files[0])),t}},{key:"onPositionUpdate",value:function(){var t,e=this;vt()(t=this.model.comment).call(t),this.validate()&&(this.position.comment=this.model.comment,this.updateImage().then((function(){return e.position.save()})).then((function(){rt.forceUpdate(e.state,"currentTrack"),e.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){return!(this.model.comment===this.position.comment&&this.model.image===this.position.image)}}]),i}(ue);function De(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var ze=function(t){C(n,t);var e=De(n);function n(t){var r;return o(this,n),(r=e.call(this,{markerOver:null,markerSelect:null,onMenuToggle:null,speedVisible:!1,altitudeVisible:!1})).state=t,r.mapElement=document.querySelector("#map-canvas"),r.speedEl=r.getBoundElement("speedVisible"),r.altitudeEl=r.getBoundElement("altitudeVisible"),r.styleEl=r.getBoundElement("trackColor"),r.savedBounds=null,r.api=null,r}return u(n,[{key:"init",value:function(){return this.bindAll(),this.setObservers(),this}},{key:"loadMapAPI",value:function(t){var e=this,n=this.api;if(this.api=null,n){try{this.savedBounds=n.getBounds()}catch(t){this.savedBounds=null}n.cleanup()}(n=this.getApi(t)).init().then((function(){e.api=n,e.onReady()})).catch((function(e){var n=ie._("apifailure",t);e&&e.message&&(n+=" (".concat(e.message,")")),ye.error(n,e),re.mapApi="gmaps"===t?"openlayers":"gmaps"}))}},{key:"getApi",value:function(t){return"gmaps"===t?new _e(this):new je(this)}},{key:"onReady",value:function(){if(this.state.currentTrack){var t=!0;this.savedBounds&&(this.api.zoomToBounds(this.savedBounds),t=!1),this.displayTrack(this.state.currentTrack,t)}}},{key:"setObservers",value:function(){var t=this;re.onChanged("mapApi",(function(e){t.loadMapAPI(e),t.toggleStyleOptions(),t.toggleStyleMenu()})),this.state.onChanged("currentTrack",(function(e){t.api&&(t.api.clearMap(),e&&(rt.observe(e,"positions",(function(){t.displayTrack(e,!1),e instanceof Tt&&!t.api.isPositionVisible(e.length-1)&&t.api.centerToPosition(e.length-1),t.toggleStyleOptions()})),t.displayTrack(e,!0)),t.toggleStyleOptions())})),this.state.onChanged("history",(function(){var e=t.state.history;t.api&&e&&!e.trackId&&(e.mapApi?re.mapApi=e.mapApi:(e.mapParams?t.api.updateState(e.mapParams):t.api.zoomToExtent(),t.state.history=null))})),this.model.onMenuToggle=function(){return t.onMapResize()},this.onChanged("speedVisible",(function(e){e&&(t.model.altitudeVisible=!1),t.setTrackStyle()})),this.onChanged("altitudeVisible",(function(e){e&&(t.model.speedVisible=!1),t.setTrackStyle()}))}},{key:"displayTrack",value:function(t,e){var n=this;this.state.jobStart(),e&&this.state.history&&this.state.history.mapParams&&(this.api.updateState(this.state.history.mapParams),e=!1),this.state.history=null,this.setTrackStyle(),this.api.displayTrack(t,e).finally((function(){return n.state.jobStop()}))}},{key:"onMapResize",value:function(){this.api&&this.api.updateSize()}},{key:"toggleStyleOptions",value:function(){var t=this.state.currentTrack;this.speedEl.disabled=!t||!t.hasSpeeds||t.length<=1,this.altitudeEl.disabled=!t||!t.hasAltitudes||t.length<=1}},{key:"toggleStyleMenu",value:function(){"openlayers"===re.mapApi?this.styleEl.style.display="block":this.styleEl.style.display="none"}},{key:"setTrackStyle",value:function(){var t=this.state.currentTrack;this.api&&t&&(this.model.speedVisible&&t.hasSpeeds?this.setSpeedStyle():this.model.altitudeVisible&&t.hasAltitudes?this.setAltitudeStyle():this.api.setTrackDefaultStyle())}},{key:"setSpeedStyle",value:function(){var t=this.state.currentTrack,e={minValue:0,maxValue:t.maxSpeed,minColor:[0,255,0],maxColor:[255,0,0]};this.api.setTrackGradientStyle(t,"speed",e)}},{key:"setAltitudeStyle",value:function(){var t=this.state.currentTrack,e={minValue:t.minAltitude,maxValue:t.maxAltitude,minColor:[0,255,0],maxColor:[255,0,0]};this.api.setTrackGradientStyle(t,"altitude",e)}},{key:"getPopupElement",value:function(t){var e,n,i,o,a,s,u,l,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A,L,T,M,O,P,_,I,C,j,R=this,U=this.state.currentTrack.positions[t],N=this.state.currentTrack.length,D=this.state.currentTrack.user,z=oe.user&&(oe.isAdmin||oe.user.id===D.id),B="",V="";if(U.timestamp>0){var F,H=gt.getTimeString(new Date(1e3*U.timestamp));B=H.date,V=r()(F="".concat(H.time,'<span class="smaller">')).call(F,H.zone,"</span>")}var q,G="";if("gps"===U.provider)G=r()(q=' <img class="icon" alt="'.concat(ie._("gps"),'" title="')).call(q,ie._("gps"),'"  src="images/gps_dark.svg">');else if("network"===U.provider){var X;G=r()(X=' <img class="icon" alt="'.concat(ie._("network"),'" title="')).call(X,ie._("network"),'"  src="images/network_dark.svg">')}var Y="";z&&(Y='<a id="editposition" class="menu-link" data-bind="onUserAdd">'.concat(ie._("editposition"),"</a>"));var W,Z,J,K,$,Q,tt,et,nt,rt="";this.state.showLatest||(rt=r()(W=r()(Z=r()(J=r()(K=r()($=r()(Q=r()(tt=r()(et=r()(nt='<div id="pright">\n        <img class="icon" alt="'.concat(ie._("track"),'" src="images/stats_blue.svg" style="margin-left: 3em;"><br>\n        <img class="icon" alt="')).call(nt,ie._("ttime"),'" title="')).call(et,ie._("ttime"),'" src="images/time_blue.svg"> ')).call(tt,ie.getLocaleDuration(U.totalSeconds),'<br>\n        <img class="icon" alt="')).call(Q,ie._("aspeed"),'" title="')).call($,ie._("aspeed"),'" src="images/speed_blue.svg"> ')).call(K,ie.getLocaleSpeed(U.totalSpeed,!0),'<br>\n        <img class="icon" alt="')).call(J,ie._("tdistance"),'" title="')).call(Z,ie._("tdistance"),'" src="images/distance_blue.svg"> ')).call(W,ie.getLocaleDistanceMajor(U.totalMeters,!0),"<br>\n        </div>"));var it=r()(e=r()(n=r()(i=r()(o=r()(a=r()(s=r()(u=r()(l=r()(c=r()(f=r()(h=r()(d=r()(p=r()(v=r()(m=r()(y=r()(g=r()(b=r()(x=r()(w=r()(k=r()(S=r()(E='<div id="pheader">\n        <div><img alt="'.concat(ie._("user"),'" title="')).call(E,ie._("user"),'" src="images/user_dark.svg"> ')).call(S,gt.htmlEncode(U.username),'</div>\n        <div><img alt="')).call(k,ie._("track"),'" title="')).call(w,ie._("track"),'" src="images/route_dark.svg"> ')).call(x,gt.htmlEncode(U.trackname),'</div>\n        </div>\n        <div id="pbody">\n        ')).call(b,U.hasComment()?'<div id="pcomments">'.concat(gt.htmlEncode(U.comment).replace(/\n/,"<br>"),"</div>"):"","\n        ")).call(g,U.hasImage()?'<div id="pimage"><img src="uploads/'.concat(U.image,'" alt="image"></div>'):"",'\n        <div id="pleft">\n        <img class="icon" alt="')).call(y,ie._("time"),'" title="')).call(m,ie._("time"),'" src="images/calendar_dark.svg"> ')).call(v,B,'<br>\n        <img class="icon" alt="')).call(p,ie._("time"),'" title="')).call(d,ie._("time"),'" src="images/clock_dark.svg"> ')).call(h,V,"<br>\n        ")).call(f,null!==U.speed?r()(A=r()(L='<img class="icon" alt="'.concat(ie._("speed"),'" title="')).call(L,ie._("speed"),'" src="images/speed_dark.svg">')).call(A,ie.getLocaleSpeed(U.speed,!0),"<br>"):"","\n        ")).call(c,null!==U.altitude?r()(T=r()(M='<img class="icon" alt="'.concat(ie._("altitude"),'" title="')).call(M,ie._("altitude"),'" src="images/altitude_dark.svg">')).call(T,ie.getLocaleAltitude(U.altitude,!0),"<br>"):"","\n        ")).call(l,null!==U.accuracy?r()(O=r()(P=r()(_='<img class="icon" alt="'.concat(ie._("accuracy"),'" title="')).call(_,ie._("accuracy"),'" src="images/accuracy_dark.svg">')).call(P,ie.getLocaleAccuracy(U.accuracy,!0))).call(O,G,"<br>"):"","\n        ")).call(u,null!==U.bearing?r()(I=r()(C=r()(j='<img class="icon" alt="'.concat(ie._("bearing"),'" title="')).call(j,ie._("bearing"),'" src="images/bearing.svg" style="transform: rotate(')).call(C,U.bearing,'deg) scale(1.2);">')).call(I,U.bearing,"<br>"):"",'\n        <img class="icon" alt="')).call(s,ie._("position"),'" title="')).call(a,ie._("position"),'" src="images/position.svg">')).call(o,ie.getLocaleCoordinates(U),"<br>\n        </div>")).call(i,rt,'</div>\n        <div id="pfooter"><div>')).call(n,ie._("pointof",t+1,N),"</div><div>")).call(e,Y,"</div></div>"),ot=document.createElement("div");(ot.setAttribute("id","popup"),ot.innerHTML=it,U.hasImage())&&(ot.querySelector("#pimage img").onclick=function(){var t=new xe('<img src="'.concat(U.getImagePath(),'" alt="image">'));t.element.querySelector("#modal-close").onclick=function(){return t.destroy()},t.element.classList.add("image"),t.show()});z&&(ot.querySelector("#editposition").onclick=function(){new Ne(R.state,t).init()});return ot}}],[{key:"getMarkerPath",value:function(t){return t?"M15,34.911c0,0,0.359-3.922,1.807-8.588c0.414-1.337,1.011-2.587,2.495-4.159c1.152-1.223,3.073-2.393,3.909-4.447c1.681-6.306-3.676-9.258-8.211-9.258c-4.536,0-9.893,2.952-8.211,9.258c0.836,2.055,2.756,3.225,3.91,4.447c1.484,1.572,2.08,2.822,2.495,4.159C14.64,30.989,15,34.911,15,34.911z M18,15.922c0,1.705-1.342,3.087-2.999,3.087c-1.657,0-3-1.382-3-3.087c0-1.704,1.343-3.086,3-3.086C16.658,12.836,18,14.218,18,15.922z":"M14.999,34.911c0,0,0.232-1.275,1.162-4.848c0.268-1.023,0.652-1.98,1.605-3.184c0.742-0.937,1.975-1.832,2.514-3.404c1.082-4.828-2.363-7.088-5.281-7.088c-2.915,0-6.361,2.26-5.278,7.088c0.538,1.572,1.771,2.468,2.514,3.404c0.953,1.203,1.337,2.16,1.604,3.184C14.77,33.635,14.999,34.911,14.999,34.911z"}},{key:"getMarkerExtra",value:function(t){var e,n=t?"M26.074,13.517":"M23.328,20.715",i=t?"M28.232,10.942":"M25.486,18.141";return r()(e='<path fill="none" stroke="red" stroke-width="2" d="'.concat(n,'c0-3.961-3.243-7.167-7.251-7.167"/>\n            <path fill="none" stroke="red" stroke-width="2" d="')).call(e,i,'c-0.5-4.028-3.642-7.083-7.724-7.542"/>')}},{key:"getSvgSrc",value:function(t,e,i){var o,a,s=r()(o=r()(a='<svg viewBox="0 0 30 35" width="30px" height="35px" xmlns="http://www.w3.org/2000/svg">\n      <g><path stroke="black" fill="'.concat(t,'" d="')).call(a,n.getMarkerPath(e),'"/>')).call(o,i?n.getMarkerExtra(e):"","</g></svg>");return"data:image/svg+xml,".concat(encodeURIComponent(s))}}]),n}(ue);function Be(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Ve=function(t){C(n,t);var e=Be(n);function n(t){var r;return o(this,n),(r=e.call(this,{onTrackDelete:null,onTrackUpdate:null,onCancel:null,trackname:""})).track=t.state.currentTrack,r.trackVM=t,r.model.onTrackDelete=function(){return r.onTrackDelete()},r.model.onTrackUpdate=function(){return r.onTrackUpdate()},r.model.onCancel=function(){return r.onCancel()},r}return u(n,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new xe(t),this.dialog.show(),this.bindAll(this.dialog.element)}},{key:"getHtml",value:function(){var t,e,n,i,o,a;return r()(t=r()(e=r()(n=r()(i=r()(o=r()(a='<div class="red-button button-resolve"><b><a data-bind="onTrackDelete">'.concat(ie._("deltrack"),"</a></b></div>\n      <div>")).call(a,ie._("editingtrack","<b>".concat(gt.htmlEncode(this.track.name),"</b>")),'</div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="trackForm">\n        <label><b>')).call(o,ie._("trackname"),'</b></label>\n        <input type="text" placeholder="')).call(i,ie._("trackname"),'" name="trackname" data-bind="trackname" value="')).call(n,gt.htmlEncode(this.track.name),'" required autofocus>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,ie._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onTrackUpdate" type="submit">')).call(t,ie._("submit"),"</button>\n        </div>\n      </form>")}},{key:"onTrackDelete",value:function(){var t=this;xe.isConfirmed(ie._("trackdelwarn",gt.htmlEncode(this.track.name)))&&this.track.delete().then((function(){t.trackVM.onTrackDeleted(),t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onTrackUpdate",value:function(){var t=this;this.validate()&&(this.track.setName(this.model.trackname),this.track.saveMeta().then((function(){return t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){return this.model.trackname!==this.track.name&&(!!this.model.trackname||(ye.error(ie._("allrequired")),!1))}}]),n}(ue);function Fe(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var He=function(t){C(n,t);var e=Fe(n);function n(t){var r;o(this,n),(r=e.call(this,{trackList:[],currentTrackId:"",showLatest:!1,autoReload:!1,inputFile:!1,summary:!1,onReload:null,onExportGpx:null,onExportKml:null,onImportGpx:null,onTrackEdit:null})).setClickHandlers();var i=document.querySelector("#track");return r.importEl=document.querySelector("#input-file"),r.editEl=r.getBoundElement("onTrackEdit"),r.select=new at(i),r.state=t,r.timerId=0,r}return u(n,[{key:"init",value:function(){return this.setObservers(),this.bindAll(),this}},{key:"setObservers",value:function(){var t=this;this.onChanged("trackList",(function(e){t.select.setOptions(e)})),this.onChanged("currentTrackId",(function(e){t.onTrackSelect(e)})),this.onChanged("inputFile",(function(e){e&&t.onImport()})),this.onChanged("autoReload",(function(e){t.autoReload(e)})),this.onChanged("showLatest",(function(e){t.state.showLatest=e,t.onReload(!0)})),this.state.onChanged("currentUser",(function(e){e?(t.loadTrackList(),oe.user&&(oe.isAdmin||oe.user.id===e.id)&&n.setMenuVisible(t.editEl,!0)):(t.model.currentTrackId="",t.model.trackList=[],n.setMenuVisible(t.editEl,!1))})),this.state.onChanged("currentTrack",(function(e){t.renderSummary(),e&&rt.observe(e,"positions",(function(){t.renderSummary()}))})),this.state.onChanged("showAllUsers",(function(e){e&&t.loadAllUsersPosition()})),re.onChanged("interval",(function(){t.timerId&&(t.stopAutoReload(),t.startAutoReload())})),this.state.onChanged("history",(function(e){e&&!e.userId&&e.trackId&&(t.model.currentTrackId=e.trackId.toString())}))}},{key:"setClickHandlers",value:function(){var t=this;this.model.onReload=function(){return t.onReload()};var e=function(e){return function(){t.state.currentTrack&&t.state.currentTrack.export(e)}};this.model.onExportGpx=e("gpx"),this.model.onExportKml=e("kml"),this.model.onImportGpx=function(){return t.importEl.click()},this.model.onTrackEdit=function(){return t.showDialog()}}},{key:"onReload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.showLatest?this.state.showAllUsers?this.loadAllUsersPosition():this.state.currentUser&&this.onUserLastPosition():this.state.currentTrack instanceof Tt?this.onTrackUpdate(t):this.state.currentTrack instanceof St?this.state.currentTrack=null:this.state.currentUser&&this.loadTrackList()}},{key:"onImport",value:function(){var t=this,e=this.importEl.parentElement,n=e.elements.MAX_FILE_SIZE.value;this.importEl.files&&1===this.importEl.files.length&&this.importEl.files[0].size>n?ye.error(ie._("isizefailure",n)):oe.isAuthenticated?(this.state.jobStart(),Tt.import(e,oe.user).then((function(e){e.length&&(e.length>1&&ye.toast(ie._("imultiple",e.length)),t.model.trackList=r()(e).call(e,t.model.trackList),t.model.currentTrackId=e[0].listValue)})).catch((function(t){var e;return ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){t.model.inputFile="",t.state.jobStop()}))):ye.error(ie._("notauthorized"))}},{key:"onTrackSelect",value:function(t){var e,n=this,i=X()(e=this.model.trackList).call(e,(function(e){return e.listValue===t}));i?i.isEqualTo(this.state.currentTrack)||(this.state.jobStart(),i.fetchPositions().then((function(){var t;r()(t="currentTrack id: ".concat(i.id,", loaded ")).call(t,i.length," positions"),n.state.currentTrack=i,n.model.showLatest&&(n.model.showLatest=!1)})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return n.state.jobStop()}))):this.state.currentTrack=null}},{key:"onTrackUpdate",value:function(t){t&&this.state.currentTrack.clear(),this.state.currentTrack.fetchPositions().catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserLastPosition",value:function(){var t=this;this.state.currentUser.fetchLastPosition().then((function(e){var n;e&&(X()(n=t.model.trackList).call(n,(function(t){return t.listValue===e.listValue}))||t.model.trackList.unshift(e),t.state.currentTrack=e,t.model.currentTrackId=e.listValue)})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"loadAllUsersPosition",value:function(){var t=this;this.state.jobStart(),St.fetchLatest().then((function(e){e&&(t.model.trackList=[],t.model.currentTrackId="",t.state.currentTrack=e)})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return t.state.jobStop()}))}},{key:"loadTrackList",value:function(){var t=this;this.state.jobStart(),Tt.fetchList(this.state.currentUser).then((function(e){t.model.trackList=e,e.length?t.state.showLatest?t.onUserLastPosition():t.state.history?t.model.currentTrackId=t.state.history.trackId.toString():t.model.currentTrackId=e[0].listValue:t.model.currentTrackId=""})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return t.state.jobStop()}))}},{key:"showDialog",value:function(){new Ve(this).init()}},{key:"onTrackDeleted",value:function(){var t,e=this.model.trackList.indexOf(this.state.currentTrack);(this.state.currentTrack=null,-1!==e)&&(Ft()(t=this.model.trackList).call(t,e,1),this.model.trackList.length?(e>=this.model.trackList.length&&(e=this.model.trackList.length-1),this.model.currentTrackId=this.model.trackList[e].listValue):this.model.currentTrackId="")}},{key:"autoReload",value:function(t){t?this.startAutoReload():this.stopAutoReload()}},{key:"startAutoReload",value:function(){var t=this;this.timerId=setInterval((function(){return t.onReload()}),1e3*re.interval)}},{key:"stopAutoReload",value:function(){clearInterval(this.timerId),this.timerId=0}},{key:"renderSummary",value:function(){var t=this.state.currentTrack;if(t&&t.hasPositions){var e=t.positions[t.length-1];if(this.state.showLatest){var n,i,o,a=new Date,s=new Date(1e3*e.timestamp),u=gt.getTimeString(s),l=s.toDateString()!==a.toDateString()?"".concat(u.date,"<br>"):"",c=r()(n="".concat(u.time,'<span style="font-weight:normal">')).call(n,u.zone,"</span>");this.model.summary=r()(i=r()(o='\n        <div class="menu-title">'.concat(ie._("latest"),":</div>\n        ")).call(o,l,"\n        ")).call(i,c)}else{var f,h,d,p,v,m,y,g,b,x,w=r()(f=r()(h=r()(d=r()(p=r()(v=r()(m='\n        <div class="menu-title">'.concat(ie._("summary"),'</div>\n        <div><img class="icon" alt="')).call(m,ie._("tdistance"),'" title="')).call(v,ie._("tdistance"),'" src="images/distance.svg"> ')).call(p,ie.getLocaleDistanceMajor(e.totalMeters,!0),'</div>\n        <div><img class="icon" alt="')).call(d,ie._("ttime"),'" title="')).call(h,ie._("ttime"),'" src="images/time.svg"> ')).call(f,ie.getLocaleDuration(e.totalSeconds),"</div>");if(e.totalSeconds>0)w+=r()(y=r()(g='\n          <div><img class="icon" alt="'.concat(ie._("aspeed"),'" title="')).call(g,ie._("aspeed"),'" src="images/speed.svg"><b>&#10547;</b> ')).call(y,ie.getLocaleSpeed(e.totalMeters/e.totalSeconds,!0),"</div>");if(t.hasSpeeds)w+=r()(b=r()(x='<div><img class="icon" alt="'.concat(ie._("speed"),'" title="')).call(x,ie._("speed"),'" src="images/speed.svg"><b>&#10138;</b> ')).call(b,ie.getLocaleSpeed(t.maxSpeed,!0),"</div>");if(t.hasAltitudes){var k,S,E,A="".concat(ie.getLocaleAltitude(t.maxAltitude,!0));if(t.minAltitude!==t.maxAltitude)A=r()(E="".concat(ie.getLocaleAltitude(t.minAltitude),"&ndash;")).call(E,A);w+=r()(k=r()(S='<div><img class="icon" alt="'.concat(ie._("altitude"),'" title="')).call(S,ie._("altitude"),'" src="images/altitude.svg"> ')).call(k,A,"</div>")}this.model.summary=w}}else this.model.summary=""}}],[{key:"setMenuVisible",value:function(t,e){t&&(e?t.classList.remove("menu-hidden"):t.classList.add("menu-hidden"))}}]),n}(ue),qe=i(2290),Ge=i.n(qe);function Xe(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Ye=function(t){C(n,t);var e=Xe(n);function n(t,r){var i;return o(this,n),(i=e.call(this,{onUserDelete:null,onUserUpdate:null,onPassChange:null,onUserAdd:null,onCancel:null,passVisibility:!1,login:null,password:null,password2:null,oldPassword:null,admin:!1})).user=t.state.currentUser,i.type=r,i.userVM=t,i.model.onUserDelete=function(){return i.onUserDelete()},i.model.onUserUpdate=function(){return i.onUserUpdate()},i.model.onPassChange=function(){return i.onPassChange()},i.model.onUserAdd=function(){return i.onUserAdd()},i.model.onCancel=function(){return i.onCancel()},i}return u(n,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new xe(t),this.dialog.show(),this.bindAll(this.dialog.element);var e=this.getBoundElement("passInput");e&&this.onChanged("passVisibility",(function(){"none"===e.style.display?e.style.display="block":e.style.display="none"}))}},{key:"onUserDelete",value:function(){var t=this;xe.isConfirmed(ie._("userdelwarn",gt.htmlEncode(this.user.login)))&&this.user.delete().then((function(){t.userVM.onUserDeleted(),t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserUpdate",value:function(){var t=this;if(this.validate()){var e=this.model.passVisibility?this.model.password:null;this.user.modify(this.model.admin,e).then((function(){return t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}}},{key:"onPassChange",value:function(){var t=this;this.model.passVisibility=!0,this.validate()&&oe.user.setPassword(this.model.password,this.model.oldPassword).then((function(){return t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserAdd",value:function(){var t=this;this.model.passVisibility=!0,this.validate()&&_t.add(this.model.login,this.model.password,this.model.admin).then((function(e){t.userVM.onUserAdded(e),t.dialog.destroy()})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){if("add"===this.type){if(!this.model.login)return ye.error(ie._("allrequired")),!1}else if("pass"===this.type&&!this.model.oldPassword)return ye.error(ie._("allrequired")),!1;if(this.model.passVisibility){if(!this.model.password||!this.model.password2)return ye.error(ie._("allrequired")),!1;if(this.model.password!==this.model.password2)return ye.error(ie._("passnotmatch")),!1;if(!re.validPassStrength(this.model.password))return ye.error(ie.getLocalePassRules()),!1}return!0}},{key:"getHtml",value:function(){var t,e,n,i,o,a,s,u,l,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A="",L="";switch(this.type){case"add":S="onUserAdd",L=r()(t="<label><b>".concat(ie._("username"),'</b></label>\n        <input type="text" placeholder="')).call(t,ie._("usernameenter"),'" name="login" data-bind="login" required autofocus>'),E=r()(e=r()(n=r()(i=r()(o="<label><b>".concat(ie._("password"),'</b></label>\n        <input type="password" placeholder="')).call(o,ie._("passwordenter"),'" name="password" data-bind="password" required>\n        <label><b>')).call(i,ie._("passwordrepeat"),'</b></label>\n        <input type="password" placeholder="')).call(n,ie._("passwordenter"),'" name="password2" data-bind="password2" required>\n        <label><b>')).call(e,ie._("admin"),'</b></label>\n        <input type="checkbox" name="admin" data-bind="admin">');break;case"edit":S="onUserUpdate",A=r()(a='<div class="red-button button-resolve"><b><a data-bind="onUserDelete">'.concat(ie._("deluser"),"</a></b></div>\n        <div>")).call(a,ie._("editinguser","<b>".concat(gt.htmlEncode(this.user.login),"</b>")),'</div>\n        <div style="clear: both; padding-bottom: 1em;"></div>'),E=r()(s=r()(u=r()(l=r()(c=r()(f=r()(h="<label><b>".concat(ie._("changepass"),'</b></label>\n        <input type="checkbox" name="changepass" data-bind="passVisibility"><br>\n        <div style="display: none;" data-bind="passInput">\n          <label><b>')).call(h,ie._("password"),'</b></label>\n          <input type="password" placeholder="')).call(f,ie._("passwordenter"),'" name="password" data-bind="password" required autofocus>\n          <label><b>')).call(c,ie._("passwordrepeat"),'</b></label>\n          <input type="password" placeholder="')).call(l,ie._("passwordenter"),'" name="password2" data-bind="password2" required>\n        </div>\n        <label><b>')).call(u,ie._("admin"),'</b></label>\n        <input type="checkbox" name="admin" data-bind="admin" ')).call(s,this.user.isAdmin?"checked":"",">");break;case"pass":S="onPassChange",E=r()(d=r()(p=r()(v=r()(m=r()(y="<label><b>".concat(ie._("oldpassword"),'</b></label>\n        <input type="password" placeholder="')).call(y,ie._("passwordenter"),'" name="old-password" data-bind="oldPassword" required autofocus>\n        <label><b>')).call(m,ie._("newpassword"),'</b></label>\n        <input type="password" placeholder="')).call(v,ie._("passwordenter"),'" name="password" data-bind="password" required>\n        <label><b>')).call(p,ie._("newpasswordrepeat"),'</b></label>\n        <input type="password" placeholder="')).call(d,ie._("passwordenter"),'" name="password2" data-bind="password2" required>');break;default:throw new Error("Unknown dialog type: ".concat(this.type))}return r()(g=r()(b=r()(x=r()(w=r()(k="".concat(A,'\n      <form id="userForm">\n        ')).call(k,L,"\n        ")).call(w,E,'\n        <div class="buttons">\n          <button class="button-reject" type="button" data-bind="onCancel">')).call(x,ie._("cancel"),'</button>\n          <button class="button-resolve" type="submit" data-bind="')).call(b,S,'">')).call(g,ie._("submit"),"</button>\n        </div>\n      </form>")}}]),n}(ue);function We(t){var e=function(){if("undefined"==typeof Reflect||!M())return!1;if(M().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(M()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var i=U(this).constructor;n=M()(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}var Ze=function(t){C(n,t);var e=We(n);function n(t){var r;o(this,n),(r=e.call(this,{userList:[],currentUserId:"0",onUserEdit:null,onUserAdd:null,onPasswordChange:null})).setClickHandlers();var i=document.querySelector("#user");return r.editEl=r.getBoundElement("onUserEdit"),r.select=new at(i,ie._("suser"),"- ".concat(ie._("allusers")," -")),r.state=t,r}return u(n,[{key:"setClickHandlers",value:function(){var t=this;this.model.onUserEdit=function(){return t.showDialog("edit")},this.model.onUserAdd=function(){return t.showDialog("add")},this.model.onPasswordChange=function(){return t.showDialog("pass")}}},{key:"init",value:function(){var t=this;return this.setObservers(this.state),this.bindAll(),_t.fetchList().then((function(e){if(t.model.userList=e,e.length){var n=e[0].listValue;if(t.state.history)n=t.state.history.userId.toString();else if(oe.isAuthenticated){var r,i=X()(r=t.model.userList).call(r,(function(t){return t.listValue===oe.user.listValue}));i&&(n=i.listValue)}t.model.currentUserId=n}})).catch((function(t){var e;ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t.message),t)})),this}},{key:"setObservers",value:function(t){var e=this;this.onChanged("userList",(function(t){e.select.setOptions(t)})),this.onChanged("currentUserId",(function(t){var r;e.state.showAllUsers=t===at.allValue,e.state.currentUser=X()(r=e.model.userList).call(r,(function(e){return e.listValue===t}))||null,n.setMenuVisible(e.editEl,null!==e.state.currentUser&&!e.state.currentUser.isEqualTo(oe.user))})),t.onChanged("showLatest",(function(t){t?e.select.showAllOption():e.select.hideAllOption()})),t.onChanged("history",(function(t){t&&t.userId&&(e.model.currentUserId=t.userId.toString())}))}},{key:"showDialog",value:function(t){new Ye(this,t).init()}},{key:"onUserAdded",value:function(t){var e;this.model.userList.push(t),Ge()(e=this.model.userList).call(e,(function(t,e){return t.login>e.login?1:-1}))}},{key:"onUserDeleted",value:function(){var t,e=this.model.userList.indexOf(this.state.currentUser);(this.state.currentUser=null,-1!==e)&&(Ft()(t=this.model.userList).call(t,e,1),this.model.userList.length?(e>=this.model.userList.length&&(e=this.model.userList.length-1),this.model.currentUserId=this.model.userList[e].listValue):this.model.currentUserId="0")}}],[{key:"setMenuVisible",value:function(t,e){t&&(e?t.classList.remove("menu-hidden"):t.classList.add("menu-hidden"))}}]),n}(ue),Je=function(){function t(e){o(this,t),this.state=e,this.skipPush=!1}return u(t,[{key:"init",value:function(){var t=this;return this.state.onChanged("mapParams",(function(){return t.pushState()})),window.addEventListener("popstate",(function(e){if(null!==e.state){var n=t.state.currentTrack,r=t.state.currentUser,i={title:e.state.title,userId:r&&r.id===e.state.userId?null:e.state.userId,trackId:n&&n.id===e.state.trackId?null:e.state.trackId,mapApi:re.mapApi===e.state.mapApi?null:e.state.mapApi,mapParams:e.state.mapParams};t.onPop(i),t.skipPush=!0}})),this}},{key:"onPop",value:function(t){var e,n,i;(t&&r()(e=r()(n="".concat(t.trackId,"/")).call(n,t.mapApi,"/")).call(e,t.mapParams),this.state.history=t,t)&&(document.title=r()(i="".concat(ie._("title")," ")).call(i,t.title))}},{key:"pushState",value:function(){if(this.skipPush)this.skipPush=!1;else if(null!==this.state.currentUser&&null!==this.state.currentTrack){var e=this.getState(),n=window.history.state;if(!n||!gt.isDeepEqual(n,e)){var i,o,a=t.getHash(e);r()(i="pushState: ".concat(a," => ")).call(i,e),window.history.pushState(e,e.title,a),document.title=r()(o="".concat(ie._("title")," ")).call(o,e.title)}}}},{key:"getState",value:function(){return{title:this.state.currentTrack.name,userId:this.state.currentUser.id,trackId:this.state.currentTrack.id,mapApi:re.mapApi,mapParams:this.state.mapParams}}}],[{key:"parseHash",value:function(){return t.parse(window.location.hash)}},{key:"parse",value:function(t){var n=t.replace("#","").split("/");n.reverse();var i=parseInt(n.pop());if(!isNaN(i)){var o="openlayers";"g"===n.pop()&&(o="gmaps");var a=null;return n.length>=4&&((a={}).center=[parseFloat(n.pop()),parseFloat(n.pop())],a.zoom=parseFloat(n.pop()),a.rotation=parseFloat(n.pop())),Tt.getMeta(i).then((function(t){var e=t.userId;return{title:t.name,userId:e,trackId:i,mapApi:o,mapParams:a}})).catch((function(t){var e;return r()(e="Ignoring unknown track ".concat(i," ")).call(e,t),null}))}return e().resolve(null)}},{key:"getHash",value:function(t){var e,n,i,o=r()(e="#".concat(t.trackId,"/")).call(e,t.mapApi.charAt(0));t.mapParams&&(o+=r()(n="/".concat(t.mapParams.center[0],"/")).call(n,t.mapParams.center[1]),o+=r()(i="/".concat(t.mapParams.zoom,"/")).call(i,t.mapParams.rotation));return o}}]),t}(),Ke=function(){function t(e){o(this,t),this.spinner=null,this.state=e}return u(t,[{key:"init",value:function(){var t=this;this.state.onChanged("activeJobs",(function(e){e>0?t.spinner||(t.spinner=ye.spinner()):t.spinner&&(t.spinner.destroy(),t.spinner=null)}))}}]),t}(),$e=function(){function t(){o(this,t),this.currentTrack=null,this.currentUser=null,this.showLatest=!1,this.showAllUsers=!1,this.activeJobs=0,this.mapParams=null,this.history=null}return u(t,[{key:"jobStart",value:function(){this.activeJobs++}},{key:"jobStop",value:function(){this.activeJobs--}},{key:"onChanged",value:function(t,e){rt.observe(this,t,e)}}]),t}(),Qe=ee.waitForDom(),tn=ne.initialize(),en=Je.parseHash();e().all([Qe,tn,en]).then((function(t){var e,n,r,i,o,a,s,u,l,c;e=t[2],n=new $e,r=new Je(n),i=new Ke(n),o=new Pe(n),a=new Ze(n),s=new He(n),u=new ze(n),l=new de(n),c=new Le(n),r.init().onPop(e),i.init(),o.init(),a.init(),s.init(),u.init().loadMapAPI(re.mapApi),l.init(),c.init(),u.onChanged("markerOver",(function(t){null!==t?l.onPointOver(t):l.onPointOut()})),u.onChanged("markerSelect",(function(t){null!==t?l.onPointSelect(t):l.onPointUnselect()})),l.onChanged("pointSelected",(function(t){null!==t&&u.api.animateMarker(t)}))})).catch((function(t){var e;return ye.error(r()(e="".concat(ie._("actionfailure"),"\n")).call(e,t))}))}()}();
//# sourceMappingURL=bundle.js.map